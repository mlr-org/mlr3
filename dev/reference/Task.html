<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Task Class — Task • mlr3</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.10/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Task Class — Task"><meta name="description" content="This is the abstract base class for TaskSupervised and TaskUnsupervised.
TaskClassif and TaskRegr inherit from TaskSupervised.
More supervised tasks are implemented in mlr3proba, unsupervised cluster tasks
in package mlr3cluster.
Tasks serve two purposes:
Tasks wrap a DataBackend, an object to transparently interface different data storage types.
Tasks store meta-information, such as the role of the individual columns in the DataBackend.
For example, for a classification task a single column must be marked as target column, and others as features.


Predefined (toy) tasks are stored in the dictionary mlr_tasks,
e.g. penguins or california_housing.
More toy tasks can be found in the dictionary after loading mlr3data."><meta property="og:description" content="This is the abstract base class for TaskSupervised and TaskUnsupervised.
TaskClassif and TaskRegr inherit from TaskSupervised.
More supervised tasks are implemented in mlr3proba, unsupervised cluster tasks
in package mlr3cluster.
Tasks serve two purposes:
Tasks wrap a DataBackend, an object to transparently interface different data storage types.
Tasks store meta-information, such as the role of the individual columns in the DataBackend.
For example, for a classification task a single column must be marked as target column, and others as features.


Predefined (toy) tasks are stored in the dictionary mlr_tasks,
e.g. penguins or california_housing.
More toy tasks can be found in the dictionary after loading mlr3data."><meta property="og:image" content="https://mlr3.mlr-org.com/logo.svg"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mlr3</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.3.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-file-alt"></span> Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mlr3book.mlr-org.com"><span class="fa fa-link"></span> mlr3book</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mlr-org/mlr3/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite/"><span class="fa fa-comments"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://stackoverflow.com/questions/tagged/mlr3"><span class="fa fab fa-stack-overflow"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mlr-org.com/"><span class="fa fa-rss"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Task Class</h1>
      <small class="dont-index">Source: <a href="https://github.com/mlr-org/mlr3/blob/main/R/Task.R" class="external-link"><code>R/Task.R</code></a></small>
      <div class="d-none name"><code>Task.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This is the abstract base class for <a href="TaskSupervised.html">TaskSupervised</a> and <a href="TaskUnsupervised.html">TaskUnsupervised</a>.
<a href="TaskClassif.html">TaskClassif</a> and <a href="TaskRegr.html">TaskRegr</a> inherit from <a href="TaskSupervised.html">TaskSupervised</a>.
More supervised tasks are implemented in <a href="https://CRAN.R-project.org/package=mlr3proba" class="external-link"><span class="pkg">mlr3proba</span></a>, unsupervised cluster tasks
in package <a href="https://CRAN.R-project.org/package=mlr3cluster" class="external-link"><span class="pkg">mlr3cluster</span></a>.</p>
<p>Tasks serve two purposes:</p><ol><li><p>Tasks wrap a <a href="DataBackend.html">DataBackend</a>, an object to transparently interface different data storage types.</p></li>
<li><p>Tasks store meta-information, such as the role of the individual columns in the <a href="DataBackend.html">DataBackend</a>.
For example, for a classification task a single column must be marked as target column, and others as features.</p></li>
</ol><p>Predefined (toy) tasks are stored in the <a href="https://mlr3misc.mlr-org.com/reference/Dictionary.html" class="external-link">dictionary</a> <a href="mlr_tasks.html">mlr_tasks</a>,
e.g. <code><a href="mlr_tasks_penguins.html">penguins</a></code> or <code><a href="california_housing.html">california_housing</a></code>.
More toy tasks can be found in the dictionary after loading <a href="https://CRAN.R-project.org/package=mlr3data" class="external-link"><span class="pkg">mlr3data</span></a>.</p>
    </div>


    <div class="section level2">
    <h2 id="s-methods">S3 methods<a class="anchor" aria-label="anchor" href="#s-methods"></a></h2>


<ul><li><p><code>as.data.table(t)</code><br>
Task -&gt; <code><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code><br>
Returns the complete data as <code><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code>.</p></li>
<li><p><code>head(t)</code><br>
Calls <code><a href="https://rdrr.io/r/utils/head.html" class="external-link">head()</a></code> on the task's data.</p></li>
<li><p><code>summary(t)</code><br>
Calls <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> on the task's data.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="task-mutators">Task mutators<a class="anchor" aria-label="anchor" href="#task-mutators"></a></h2>


<p>The following methods change the task in-place:</p><ul><li><p>Any modification of the lists <code>$col_roles</code> or <code>$row_roles</code>.
This provides a different "view" on the data without altering the data itself.
This may affects, e.g., <code>$data</code>, <code>$nrow</code>, <code>$ncol</code>, <code>n_features</code>, <code>row_ids</code>, and <code>$feature_names</code>.
Altering <code>$col_roles</code> may affect, e.g., <code>$data</code>, <code>$ncol</code>, <code>$n_features</code>, and <code>$feature_names</code>.
Altering <code>$row_roles</code> may affect, e.g., <code>$data</code>, <code>$nrow</code>, and <code>$row_ids</code>.</p></li>
<li><p>Modification of column or row roles via <code>$set_col_roles()</code> or <code>$set_row_roles()</code>, respectively.
They are an alternative to directly accessing <code>$col_roles</code> or <code>$row_roles</code>, with the same side effects.</p></li>
<li><p><code>$select()</code> and <code>$filter()</code> subset the set of active features or rows in <code>$col_roles</code> or <code>$row_roles</code>, respectively.</p></li>
<li><p><code>$cbind()</code> and <code>$rbind()</code> change the task in-place by binding new columns or rows to the data.</p></li>
<li><p><code>$rename()</code> changes column names.</p></li>
<li><p><code>$set_levels()</code> and <code>$droplevels()</code> update the field <code>$col_info()</code> to automatically repair factor levels while querying data with <code>$data()</code>.</p></li>
<li><p><code>$materialize_view()</code> creates a new <a href="DataBackendDataTable.html">DataBackendDataTable</a> which keeps only the data in the currently active view
possibly freeing some memory consumed by the <a href="DataBackend.html">DataBackend</a> stored in the <code>Task</code>.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index">
<ul><li><p>Chapter in the <a href="https://mlr3book.mlr-org.com/" class="external-link">mlr3book</a>:
<a href="https://mlr3book.mlr-org.com/chapters/chapter2/data_and_basic_modeling.html" class="external-link">https://mlr3book.mlr-org.com/chapters/chapter2/data_and_basic_modeling.html</a></p></li>
<li><p>Package <a href="https://CRAN.R-project.org/package=mlr3data" class="external-link"><span class="pkg">mlr3data</span></a> for more toy tasks.</p></li>
<li><p>Package <a href="https://CRAN.R-project.org/package=mlr3oml" class="external-link"><span class="pkg">mlr3oml</span></a> for downloading tasks from <a href="https://www.openml.org" class="external-link">https://www.openml.org</a>.</p></li>
<li><p>Package <a href="https://CRAN.R-project.org/package=mlr3viz" class="external-link"><span class="pkg">mlr3viz</span></a> for some generic visualizations.</p></li>
<li><p><a href="https://mlr3misc.mlr-org.com/reference/Dictionary.html" class="external-link">Dictionary</a> of Tasks: <a href="mlr_tasks.html">mlr_tasks</a></p></li>
<li><p><code>as.data.table(mlr_tasks)</code> for a table of available Tasks in the running session (depending on the loaded packages).</p></li>
<li><p><a href="https://CRAN.R-project.org/package=mlr3fselect" class="external-link"><span class="pkg">mlr3fselect</span></a> and <a href="https://CRAN.R-project.org/package=mlr3filters" class="external-link"><span class="pkg">mlr3filters</span></a> for feature selection and feature filtering.</p></li>
<li><p>Extension packages for additional task types:</p><ul><li><p>Unsupervised clustering: <a href="https://CRAN.R-project.org/package=mlr3cluster" class="external-link"><span class="pkg">mlr3cluster</span></a></p></li>
<li><p>Probabilistic supervised regression and survival analysis: <a href="https://mlr3proba.mlr-org.com/" class="external-link">https://mlr3proba.mlr-org.com/</a>.</p></li>
</ul></li>
</ul><p>Other Task:
<code><a href="TaskClassif.html">TaskClassif</a></code>,
<code><a href="TaskRegr.html">TaskRegr</a></code>,
<code><a href="TaskSupervised.html">TaskSupervised</a></code>,
<code><a href="TaskUnsupervised.html">TaskUnsupervised</a></code>,
<code><a href="california_housing.html">california_housing</a></code>,
<code><a href="mlr_tasks.html">mlr_tasks</a></code>,
<code><a href="mlr_tasks_breast_cancer.html">mlr_tasks_breast_cancer</a></code>,
<code><a href="mlr_tasks_german_credit.html">mlr_tasks_german_credit</a></code>,
<code><a href="mlr_tasks_iris.html">mlr_tasks_iris</a></code>,
<code><a href="mlr_tasks_mtcars.html">mlr_tasks_mtcars</a></code>,
<code><a href="mlr_tasks_penguins.html">mlr_tasks_penguins</a></code>,
<code><a href="mlr_tasks_pima.html">mlr_tasks_pima</a></code>,
<code><a href="mlr_tasks_sonar.html">mlr_tasks_sonar</a></code>,
<code><a href="mlr_tasks_spam.html">mlr_tasks_spam</a></code>,
<code><a href="mlr_tasks_wine.html">mlr_tasks_wine</a></code>,
<code><a href="mlr_tasks_zoo.html">mlr_tasks_zoo</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="public-fields">Public fields<a class="anchor" aria-label="anchor" href="#public-fields"></a></h2>
    <p></p><div class="r6-fields"><dl><dt><code>label</code></dt>
<dd><p>(<code>character(1)</code>)<br>
Label for this object.
Can be used in tables, plot and text output instead of the ID.</p></dd>


<dt><code>task_type</code></dt>
<dd><p>(<code>character(1)</code>)<br>
Task type, e.g. <code>"classif"</code> or <code>"regr"</code>.</p>
<p>For a complete list of possible task types (depending on the loaded packages),
see <code><a href="mlr_reflections.html">mlr_reflections$task_types$type</a></code>.</p></dd>


<dt><code>backend</code></dt>
<dd><p>(<a href="DataBackend.html">DataBackend</a>)<br>
Abstract interface to the data of the task.</p></dd>


<dt><code>col_info</code></dt>
<dd><p>(<code><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code>)<br>
Table with with 4 columns, mainly for internal purposes:</p><ul><li><p><code>"id"</code> (<code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>) stores the name of the column.</p></li>
<li><p><code>"type"</code> (<code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>) holds the storage type of the variable, e.g. <code>integer</code>, <code>numeric</code> or <code>character</code>.
See <a href="mlr_reflections.html">mlr_reflections$task_feature_types</a> for a complete list of allowed types.</p></li>
<li><p><code>"levels"</code> (<code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code>) stores a vector of distinct values (levels) for ordered and unordered factor variables.</p></li>
<li><p><code>"label"</code> (<code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>) stores a vector of prettier, formated column names.</p></li>
<li><p><code>"fix_factor_levels"</code> (<code><a href="https://rdrr.io/r/base/logical.html" class="external-link">logical()</a></code>) stores flags which determine if the levels of the respective variable
need to be reordered after querying the data from the <a href="DataBackend.html">DataBackend</a>.</p></li>
</ul><p>Note that all columns of the <a href="DataBackend.html">DataBackend</a>, also columns which are not selected or have any role, are listed
in this table.</p></dd>


<dt><code>man</code></dt>
<dd><p>(<code>character(1)</code>)<br>
String in the format <code>[pkg]::[topic]</code> pointing to a manual page for this object.
Defaults to <code>NA</code>, but can be set by child classes.</p></dd>


<dt><code>extra_args</code></dt>
<dd><p>(named <code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code>)<br>
Additional arguments set during construction.
Required for <code><a href="convert_task.html">convert_task()</a></code>.</p></dd>


<dt><code>mlr3_version</code></dt>
<dd><p>(<code>package_version</code>)<br>
Package version of <code>mlr3</code> used to create the task.</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="active-bindings">Active bindings<a class="anchor" aria-label="anchor" href="#active-bindings"></a></h2>
    <p></p><div class="r6-active-bindings"><dl><dt><code>id</code></dt>
<dd><p>(<code>character(1)</code>)<br>
Identifier of the object.
Used in tables, plot and text output.</p></dd>


<dt><code>internal_valid_task</code></dt>
<dd><p>(<code>Task</code> or <code><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer()</a></code> or <code>NULL</code>)<br>
Optional validation task that can, e.g., be used for early stopping with learners such as XGBoost.
See also the <code>$validate</code> field of <code><a href="Learner.html">Learner</a></code>.
If integers are assigned they are removed from the primary task and an internal validation task
with those ids is created from the primary task using only those ids.
When assigning a new task, it is always cloned.</p></dd>


<dt><code>hash</code></dt>
<dd><p>(<code>character(1)</code>)<br>
Hash (unique identifier) for this object.
The hash is calculated based on the complete task object and <code>$row_ids</code>.
If an internal validation task is set, the hash is recalculated.</p></dd>


<dt><code>row_hash</code></dt>
<dd><p>(<code>character(1)</code>)<br>
Hash (unique identifier) calculated based on the row ids.</p></dd>


<dt><code>row_ids</code></dt>
<dd><p>(positive <code><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer()</a></code>)<br>
Returns the row ids of the <a href="DataBackend.html">DataBackend</a> for observations with role "use".</p></dd>


<dt><code>row_names</code></dt>
<dd><p>(<code><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code>)<br>
Returns a table with two columns:</p><ul><li><p><code>"row_id"</code> (<code><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer()</a></code>), and</p></li>
<li><p><code>"row_name"</code> (<code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>).</p></li>
</ul></dd>


<dt><code>feature_names</code></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>)<br>
Returns all column names with <code>role == "feature"</code>.</p>
<p>Note that this vector determines the default order of columns for <code>task$data(cols = NULL, ...)</code>.
However, it is recommended to <strong>not</strong> rely on the order of columns, but instead always
address columns by their name. The default order is not well defined after some
operations, e.g. after <code>task$cbind()</code> or after processing via <a href="https://CRAN.R-project.org/package=mlr3pipelines" class="external-link"><span class="pkg">mlr3pipelines</span></a>.</p></dd>


<dt><code>target_names</code></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>)<br>
Returns all column names with role "target".</p></dd>


<dt><code>properties</code></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>)<br>
Set of task properties.
Possible properties are are stored in <a href="mlr_reflections.html">mlr_reflections$task_properties</a>.
The following properties are currently standardized and understood by tasks in <a href="https://CRAN.R-project.org/package=mlr3" class="external-link"><span class="pkg">mlr3</span></a>:</p><ul><li><p><code>"strata"</code>: The task is resampled using one or more stratification variables (role <code>"stratum"</code>).</p></li>
<li><p><code>"groups"</code>: The task comes with grouping/blocking information (role <code>"group"</code>).</p></li>
<li><p><code>"weights_learner"</code>: If the task has observation weights with this role, they are passed to the <a href="Learner.html">Learner</a> during train.
The use of weights can be disabled via by setting the learner's hyperparameter <code>use_weights</code> to <code>FALSE</code>.</p></li>
<li><p><code>"weights_measure"</code>: If the task has observation weights with this role, they are passed to the <a href="Measure.html">Measure</a> for weighted scoring.
The use of weights can be disabled via by setting the measure's hyperparameter <code>use_weights</code> to <code>FALSE</code>.</p></li>
<li><p><code>"offset"</code>: The task includes one or more offset columns specifying fixed adjustments for model training and possibly for prediction (role <code>"offset"</code>).</p></li>
<li><p><code>"ordered"</code>: The task has columns which define the row order (role <code>"order"</code>).</p></li>
</ul><p>Note that above listed properties are calculated from the <code>$col_roles</code>, and may not be set explicitly.</p></dd>


<dt><code>row_roles</code></dt>
<dd><p>(named <code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code>)<br>
Each row (observation) can have an arbitrary number of roles in the learning task:</p><ul><li><p><code>"use"</code>: Use in train / predict / resampling.</p></li>
</ul><p><code>row_roles</code> is a named list whose elements are named by row role and each element is an <code><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer()</a></code> vector of row ids.
To alter the roles, just modify the list, e.g. with  <span style="R">R</span>'s set functions (<code><a href="https://rdrr.io/r/base/sets.html" class="external-link">intersect()</a></code>, <code><a href="https://rdrr.io/r/base/sets.html" class="external-link">setdiff()</a></code>, <code><a href="https://rdrr.io/r/base/sets.html" class="external-link">union()</a></code>, ...).</p></dd>


<dt><code>col_roles</code></dt>
<dd><p>(named <code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code>)<br>
Each column can be in one or more of the following groups to fulfill different roles:</p><ul><li><p><code>"feature"</code>: Regular feature used in the model fitting process.</p></li>
<li><p><code>"target"</code>: Target variable. Most tasks only accept a single target column.</p></li>
<li><p><code>"name"</code>: Row names / observation labels. To be used in plots. Can be queried with <code>$row_names</code>.
Not more than a single column can be associated with this role.</p></li>
<li><p><code>"order"</code>: Data returned by <code>$data()</code> is ordered by this column (or these columns).
Columns must be sortable with <code><a href="https://rdrr.io/r/base/order.html" class="external-link">order()</a></code>.</p></li>
<li><p><code>"group"</code>: During resampling, observations with the same value of the variable with role "group" are marked as "belonging together".
For each resampling iteration, observations of the same group will be exclusively assigned to be either in the training set or in the test set.
Not more than a single column can be associated with this role.</p></li>
<li><p><code>"stratum"</code>: Stratification variables. Multiple discrete columns may have this role.</p></li>
<li><p><code>"weights_learner"</code>: If the task has observation weights with this role, they are passed to the <a href="Learner.html">Learner</a> during train.
The use of weights can be disabled via by setting the learner's hyperparameter <code>use_weights</code> to <code>FALSE</code>.</p></li>
<li><p><code>"weights_measure"</code>: If the task has observation weights with this role, they are passed to the <a href="Measure.html">Measure</a> for weighted scoring.
The use of weights can be disabled via by setting the measure's hyperparameter <code>use_weights</code> to <code>FALSE</code>.</p></li>
<li><p><code>"offset"</code>: Numeric columns used to specify fixed adjustments for model training.
Some models use offsets to simply shift predictions, while others incorporate them to boost predictions from a baseline model.
For learners supporting offsets in multiclass settings, an offset column must be provided for each target class.
These columns must follow the naming convention <code>"offset_{target_class_name}"</code>.
For an example of a learner that supports offsets, see <code>LearnerClassifXgboost</code>  of <a href="https://CRAN.R-project.org/package=mlr3learners" class="external-link"><span class="pkg">mlr3learners</span></a>.</p></li>
</ul><p><code>col_roles</code> is a named list whose elements are named by column role and each element is a <code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code> vector of column names.
To alter the roles, just modify the list, e.g. with <span style="R">R</span>'s set functions (<code><a href="https://rdrr.io/r/base/sets.html" class="external-link">intersect()</a></code>, <code><a href="https://rdrr.io/r/base/sets.html" class="external-link">setdiff()</a></code>, <code><a href="https://rdrr.io/r/base/sets.html" class="external-link">union()</a></code>, ...).
The method <code>$set_col_roles</code> provides a convenient alternative to assign columns to roles.</p>
<p>The roles <code>weights_learner</code> and <code>weights_measure</code> may only point to a single numeric column, but they can
all point to the same column or different columns. Weights must be non-negative numerics with at least one weight being &gt; 0.
They don't necessarily need to sum up to 1.</p></dd>


<dt><code>nrow</code></dt>
<dd><p>(<code>integer(1)</code>)<br>
Returns the total number of rows with role "use".</p></dd>


<dt><code>ncol</code></dt>
<dd><p>(<code>integer(1)</code>)<br>
Returns the total number of columns with role "target" or "feature".</p></dd>


<dt><code>n_features</code></dt>
<dd><p>(<code>integer(1)</code>)<br>
Returns the total number of columns with role "feature" (i.e. the number of "active" features in the task).</p></dd>


<dt><code>feature_types</code></dt>
<dd><p>(<code><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code>)<br>
Returns a table with columns <code>id</code> and <code>type</code> where <code>id</code> are the column names of "active"
features of the task and <code>type</code> is the storage type.</p></dd>


<dt><code>strata</code></dt>
<dd><p>(<code><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code>)<br>
If the task has columns designated with role <code>"stratum"</code>, returns a table with one subpopulation per row and two columns:</p><ul><li><p><code>N</code> (<code><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer()</a></code>) with the number of observations in the subpopulation, and</p></li>
<li><p><code>row_id</code> (list of <code><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer()</a></code>) as list column with the row ids in the respective subpopulation.
Returns <code>NULL</code> if there are is no stratification variable.
See <a href="Resampling.html">Resampling</a> for more information on stratification.</p></li>
</ul></dd>


<dt><code>groups</code></dt>
<dd><p>(<code><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code>)<br>
If the task has a column with designated role <code>"group"</code>, a table with two columns:</p><ul><li><p><code>row_id</code> (<code><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer()</a></code>), and</p></li>
<li><p>grouping variable <code>group</code> (<code><a href="https://rdrr.io/r/base/vector.html" class="external-link">vector()</a></code>).</p></li>
</ul><p>Returns <code>NULL</code> if there are is no grouping column.
See <a href="Resampling.html">Resampling</a> for more information on grouping.</p></dd>


<dt><code>order</code></dt>
<dd><p>(<code><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code>)<br>
If the task has at least one column with designated role <code>"order"</code>, a table with two columns:</p><ul><li><p><code>row_id</code> (<code><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer()</a></code>), and</p></li>
<li><p>ordering vector <code>order</code> (<code><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer()</a></code>).</p></li>
</ul><p>Returns <code>NULL</code> if there are is no order column.</p></dd>


<dt><code>weights</code></dt>
<dd><p>(<code><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code>)<br>
Deprecated, use <code>$weights_learner</code> instead.</p></dd>


<dt><code>weights_learner</code></dt>
<dd><p>(<code><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code>)<br>
Returns the observation weights used for training a <a href="Learner.html">Learner</a> (column role <code>weights_learner</code>)
as a <code>data.table</code> with the following columns:</p><ul><li><p><code>row_id</code> (<code><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer()</a></code>), and</p></li>
<li><p><code>weight</code> (<code><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric()</a></code>).</p></li>
</ul><p>Returns <code>NULL</code> if there are is no column with the designated role.</p></dd>


<dt><code>weights_measure</code></dt>
<dd><p>(<code><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code>)<br>
Returns the observation weights used for scoring a prediction with a <a href="Measure.html">Measure</a> (column role <code>weights_measure</code>)
as a <code>data.table</code> with the following columns:</p><ul><li><p><code>row_id</code> (<code><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer()</a></code>), and</p></li>
<li><p><code>weight</code> (<code><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric()</a></code>).</p></li>
</ul><p>Returns <code>NULL</code> if there are is no column with the designated role.</p></dd>


<dt><code>offset</code></dt>
<dd><p>(<code><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code>)<br>
If the task has a column with designated role <code>"offset"</code>, a table with two or more columns:</p><ul><li><p><code>row_id</code> (<code><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer()</a></code>), and</p></li>
<li><p>offset variable(s) (<code><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric()</a></code>).</p></li>
</ul><p>For regression or binary classification tasks, there will be only a single-column offset.
For multiclass tasks, it may return multiple offset columns, one for each target class.
If there is only one offset column, it will be named as <code>offset</code>.</p>
<p>If there are no columns with the <code>"offset"</code> role, <code>NULL</code> is returned.</p></dd>


<dt><code>labels</code></dt>
<dd><p>(named <code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>)<br>
Retrieve <code>labels</code> (prettier formated names) from columns.
Internally queries the column <code>label</code> of the table in field <code>col_info</code>.
Columns ids referenced by the name of the vector, the labels are the actual string values.</p>
<p>Assigning to this column update the task by reference.
You have to provide a character vector of labels, named with column ids.
To remove a label, set it to <code>NA</code>.
Alternatively, you can provide a <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame()</a></code> with the two columns
<code>"id"</code> and <code>"label"</code>.</p></dd>


<dt><code>col_hashes</code></dt>
<dd><p>(named <code>character</code>)<br>
Hash (unique identifier) for all columns except the <code>primary_key</code>: A <code>character</code> vector, named by the columns that each element refers to.<br>
Columns of different <code>Task</code>s or <code><a href="DataBackend.html">DataBackend</a></code>s that have agreeing <code>col_hashes</code> always represent the same data, given that the same <code>row</code>s are selected.
The reverse is not necessarily true: There can be columns with the same content that have different <code>col_hashes</code>.</p></dd>


<dt><code>characteristics</code></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code>)<br>
List of characteristics of the task, e.g. <code>list(n = 5, p = 7)</code>.</p></dd>


<dt><code>row_ids_backend</code></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer()</a></code>)<br>
Returns all row ids from the backend, regardless of their roles.
This is different from <code>$row_ids</code> which only returns rows with role "use".</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>

<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-Task-new"><code>Task$new()</code></a></p></li>
<li><p><a href="#method-Task-divide"><code>Task$divide()</code></a></p></li>
<li><p><a href="#method-Task-help"><code>Task$help()</code></a></p></li>
<li><p><a href="#method-Task-format"><code>Task$format()</code></a></p></li>
<li><p><a href="#method-Task-print"><code>Task$print()</code></a></p></li>
<li><p><a href="#method-Task-data"><code>Task$data()</code></a></p></li>
<li><p><a href="#method-Task-formula"><code>Task$formula()</code></a></p></li>
<li><p><a href="#method-Task-head"><code>Task$head()</code></a></p></li>
<li><p><a href="#method-Task-levels"><code>Task$levels()</code></a></p></li>
<li><p><a href="#method-Task-missings"><code>Task$missings()</code></a></p></li>
<li><p><a href="#method-Task-filter"><code>Task$filter()</code></a></p></li>
<li><p><a href="#method-Task-select"><code>Task$select()</code></a></p></li>
<li><p><a href="#method-Task-rbind"><code>Task$rbind()</code></a></p></li>
<li><p><a href="#method-Task-cbind"><code>Task$cbind()</code></a></p></li>
<li><p><a href="#method-Task-rename"><code>Task$rename()</code></a></p></li>
<li><p><a href="#method-Task-set_row_roles"><code>Task$set_row_roles()</code></a></p></li>
<li><p><a href="#method-Task-set_col_roles"><code>Task$set_col_roles()</code></a></p></li>
<li><p><a href="#method-Task-set_levels"><code>Task$set_levels()</code></a></p></li>
<li><p><a href="#method-Task-droplevels"><code>Task$droplevels()</code></a></p></li>
<li><p><a href="#method-Task-add_strata"><code>Task$add_strata()</code></a></p></li>
<li><p><a href="#method-Task-materialize_view"><code>Task$materialize_view()</code></a></p></li>
<li><p><a href="#method-Task-clone"><code>Task$clone()</code></a></p></li>
</ul></div><p></p><hr><a id="method-Task-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Creates a new instance of this <a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6</a> class.</p>
<p>Note that this object is typically constructed via a derived classes, e.g. <a href="TaskClassif.html">TaskClassif</a> or <a href="TaskRegr.html">TaskRegr</a>.</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/Task.html">Task</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">id</span>, <span class="va">task_type</span>, <span class="va">backend</span>, label <span class="op">=</span> <span class="cn">NA_character_</span>, extra_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>id</code></dt>
<dd><p>(<code>character(1)</code>)<br>
Identifier for the new instance.</p></dd>


<dt><code>task_type</code></dt>
<dd><p>(<code>character(1)</code>)<br>
Type of task, e.g. <code>"regr"</code> or <code>"classif"</code>.
Must be an element of <a href="mlr_reflections.html">mlr_reflections$task_types$type</a>.</p></dd>


<dt><code>backend</code></dt>
<dd><p>(<a href="DataBackend.html">DataBackend</a>)<br>
Either a <a href="DataBackend.html">DataBackend</a>, or any object which is convertible to a <a href="DataBackend.html">DataBackend</a> with <code><a href="as_data_backend.html">as_data_backend()</a></code>.
E.g., a <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame()</a></code> will be converted to a <a href="DataBackendDataTable.html">DataBackendDataTable</a>.</p></dd>


<dt><code>label</code></dt>
<dd><p>(<code>character(1)</code>)<br>
Label for the new instance.</p></dd>


<dt><code>extra_args</code></dt>
<dd><p>(named <code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code>)<br>
Named list of constructor arguments, required for converting task types
via <code><a href="convert_task.html">convert_task()</a></code>.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Task-divide"></a><div class="section">
<h3 id="method-divide-">Method <code>divide()</code><a class="anchor" aria-label="anchor" href="#method-divide-"></a></h3>
<p>Deprecated.</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Task</span><span class="op">$</span><span class="fu">divide</span><span class="op">(</span>ratio <span class="op">=</span> <span class="cn">NULL</span>, ids <span class="op">=</span> <span class="cn">NULL</span>, remove <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>ratio</code></dt>
<dd><p>(<code>numeric(1)</code>)<br>
The proportion of datapoints to use as validation data.</p></dd>


<dt><code>ids</code></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer()</a></code>)<br>
The row ids to use as validation data.</p></dd>


<dt><code>remove</code></dt>
<dd><p>(<code>logical(1)</code>)<br>
If <code>TRUE</code> (default), the <code>row_ids</code> are removed from the primary task's active <code>"use"</code> rows, ensuring a
disjoint split between the train and validation data.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>Modified <code>Self</code>.</p>
</div>

</div><p></p><hr><a id="method-Task-help"></a><div class="section">
<h3 id="method-help-">Method <code><a href="https://rdrr.io/r/utils/help.html" class="external-link">help()</a></code><a class="anchor" aria-label="anchor" href="#method-help-"></a></h3>
<p>Opens the corresponding help page referenced by field <code>$man</code>.</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Task</span><span class="op">$</span><span class="fu">help</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Task-format"></a><div class="section">
<h3 id="method-format-">Method <code><a href="https://rdrr.io/r/base/format.html" class="external-link">format()</a></code><a class="anchor" aria-label="anchor" href="#method-format-"></a></h3>
<p>Helper for print outputs.</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Task</span><span class="op">$</span><span class="fu">format</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>(ignored).</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Task-print"></a><div class="section">
<h3 id="method-print-">Method <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code><a class="anchor" aria-label="anchor" href="#method-print-"></a></h3>
<p>Printer.</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Task</span><span class="op">$</span><span class="fu">print</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>(ignored).</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Task-data"></a><div class="section">
<h3 id="method-data-">Method <code><a href="https://rdrr.io/r/utils/data.html" class="external-link">data()</a></code><a class="anchor" aria-label="anchor" href="#method-data-"></a></h3>
<p>Returns a slice of the data from the <a href="DataBackend.html">DataBackend</a> as a <code>data.table</code>.
Rows default to observations with role <code>"use"</code>, and columns default to features with roles <code>"target"</code> or <code>"feature"</code>.
Rows must be a subset of <code>$row_ids</code>.
If <code>rows</code> or <code>cols</code> are specified which do not exist in the <a href="DataBackend.html">DataBackend</a>, an exception is raised.</p>
<p>Rows and columns are returned in the order specified via the arguments <code>rows</code> and <code>cols</code>.
If <code>rows</code> is <code>NULL</code>, rows are returned in the order of <code>task$row_ids</code>.
If <code>cols</code> is <code>NULL</code>, the column order defaults to <code>c(task$target_names, task$feature_names)</code>.
Note that it is recommended to <strong>not</strong> rely on the order of columns, and instead always address columns with their respective column name.</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Task</span><span class="op">$</span><span class="fu">data</span><span class="op">(</span>rows <span class="op">=</span> <span class="cn">NULL</span>, cols <span class="op">=</span> <span class="cn">NULL</span>, ordered <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>rows</code></dt>
<dd><p>(positive <code><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer()</a></code>)<br>
Vector or row indices.
Always refers to the complete data set, even after filtering.</p></dd>


<dt><code>cols</code></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>)<br>
Vector of column names.</p></dd>


<dt><code>ordered</code></dt>
<dd><p>(<code>logical(1)</code>)<br>
If <code>TRUE</code>, data is ordered according to the columns with column role <code>"order"</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p>Depending on the <a href="DataBackend.html">DataBackend</a>, but usually a <code><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code>.</p>
</div>
<div class="section">
<h4 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="../reference/mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span>
<span><span class="va">task</span><span class="op">$</span><span class="fu">data</span><span class="op">(</span>rows <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"species"</span>, <span class="st">"sex"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Task-formula"></a><div class="section">
<h3 id="method-formula-">Method <code><a href="https://rdrr.io/r/stats/formula.html" class="external-link">formula()</a></code><a class="anchor" aria-label="anchor" href="#method-formula-"></a></h3>
<p>Constructs a <code><a href="https://rdrr.io/r/stats/formula.html" class="external-link">formula()</a></code>, e.g. <code>[target] ~ [feature_1] + [feature_2] + ... + [feature_k]</code>,
using the features provided in argument <code>rhs</code> (defaults to all columns with role <code>"feature"</code>, symbolized by <code>"."</code>).</p>
<p>Note that it is currently not possible to change the formula.
However, <a href="https://CRAN.R-project.org/package=mlr3pipelines" class="external-link"><span class="pkg">mlr3pipelines</span></a> provides a pipe operator interfacing <code><a href="https://rdrr.io/r/stats/model.matrix.html" class="external-link">stats::model.matrix()</a></code> for this purpose: <code>"modelmatrix"</code>.</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Task</span><span class="op">$</span><span class="fu">formula</span><span class="op">(</span>rhs <span class="op">=</span> <span class="st">"."</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>rhs</code></dt>
<dd><p>(<code>character(1)</code>)<br>
Right hand side of the formula. Defaults to <code>"."</code> (all features of the task).</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-2">Returns<a class="anchor" aria-label="anchor" href="#returns-2"></a></h4>
<p><code><a href="https://rdrr.io/r/stats/formula.html" class="external-link">formula()</a></code>.</p>
</div>
<div class="section">
<h4 id="examples-1">Examples<a class="anchor" aria-label="anchor" href="#examples-1"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="../reference/mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span>
<span><span class="va">task</span><span class="op">$</span><span class="fu">formula</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Task-head"></a><div class="section">
<h3 id="method-head-">Method <code><a href="https://rdrr.io/r/utils/head.html" class="external-link">head()</a></code><a class="anchor" aria-label="anchor" href="#method-head-"></a></h3>
<p>Get the first <code>n</code> observations with role <code>"use"</code> of all columns with role <code>"target"</code> or <code>"feature"</code>.</p><div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Task</span><span class="op">$</span><span class="fu">head</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">6L</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-6">Arguments<a class="anchor" aria-label="anchor" href="#arguments-6"></a></h4>
<p></p><div class="arguments"><dl><dt><code>n</code></dt>
<dd><p>(<code>integer(1)</code>).</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-3">Returns<a class="anchor" aria-label="anchor" href="#returns-3"></a></h4>
<p><code><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code> with <code>n</code> rows.</p>
</div>
<div class="section">
<h4 id="examples-2">Examples<a class="anchor" aria-label="anchor" href="#examples-2"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="../reference/mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span>
<span><span class="va">task</span><span class="op">$</span><span class="fu">head</span><span class="op">(</span><span class="fl">3</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Task-levels"></a><div class="section">
<h3 id="method-levels-">Method <code><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels()</a></code><a class="anchor" aria-label="anchor" href="#method-levels-"></a></h3>
<p>Returns the distinct values for columns referenced in <code>cols</code> with storage type "factor" or "ordered".
Argument <code>cols</code> defaults to all such columns with role <code>"target"</code> or <code>"feature"</code>.</p>
<p>Note that this function ignores the row roles, it returns all levels available in the <a href="DataBackend.html">DataBackend</a>.
To update the stored level information, e.g. after subsetting a task with <code>$filter()</code>, call <code>$droplevels()</code>.</p><div class="section">
<h4 id="usage-8">Usage<a class="anchor" aria-label="anchor" href="#usage-8"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Task</span><span class="op">$</span><span class="fu">levels</span><span class="op">(</span>cols <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-7">Arguments<a class="anchor" aria-label="anchor" href="#arguments-7"></a></h4>
<p></p><div class="arguments"><dl><dt><code>cols</code></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>)<br>
Vector of column names.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-4">Returns<a class="anchor" aria-label="anchor" href="#returns-4"></a></h4>
<p>named <code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code>.</p>
</div>
<div class="section">
<h4 id="examples-3">Examples<a class="anchor" aria-label="anchor" href="#examples-3"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="../reference/mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span>
<span><span class="va">task</span><span class="op">$</span><span class="fu">levels</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Task-missings"></a><div class="section">
<h3 id="method-missings-">Method <code>missings()</code><a class="anchor" aria-label="anchor" href="#method-missings-"></a></h3>
<p>Returns the number of missing observations for columns referenced in <code>cols</code>.
Considers only active rows with row role <code>"use"</code>.
Argument <code>cols</code> defaults to all columns with role "target" or "feature".</p><div class="section">
<h4 id="usage-9">Usage<a class="anchor" aria-label="anchor" href="#usage-9"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Task</span><span class="op">$</span><span class="fu">missings</span><span class="op">(</span>cols <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-8">Arguments<a class="anchor" aria-label="anchor" href="#arguments-8"></a></h4>
<p></p><div class="arguments"><dl><dt><code>cols</code></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>)<br>
Vector of column names.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-5">Returns<a class="anchor" aria-label="anchor" href="#returns-5"></a></h4>
<p>Named <code><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer()</a></code>.</p>
</div>
<div class="section">
<h4 id="examples-4">Examples<a class="anchor" aria-label="anchor" href="#examples-4"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="../reference/mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span>
<span><span class="va">task</span><span class="op">$</span><span class="fu">missings</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Task-filter"></a><div class="section">
<h3 id="method-filter-">Method <code><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter()</a></code><a class="anchor" aria-label="anchor" href="#method-filter-"></a></h3>
<p>Subsets the task, keeping only the rows specified via row ids <code>rows</code>.</p>
<p>This operation mutates the task in-place.
See the section on task mutators for more information.</p><div class="section">
<h4 id="usage-10">Usage<a class="anchor" aria-label="anchor" href="#usage-10"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Task</span><span class="op">$</span><span class="fu">filter</span><span class="op">(</span><span class="va">rows</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-9">Arguments<a class="anchor" aria-label="anchor" href="#arguments-9"></a></h4>
<p></p><div class="arguments"><dl><dt><code>rows</code></dt>
<dd><p>(positive <code><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer()</a></code>)<br>
Vector or row indices.
Always refers to the complete data set, even after filtering.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-6">Returns<a class="anchor" aria-label="anchor" href="#returns-6"></a></h4>
<p>Returns the object itself, but modified <strong>by reference</strong>.
You need to explicitly <code>$clone()</code> the object beforehand if you want to keeps
the object in its previous state.</p>
</div>
<div class="section">
<h4 id="examples-5">Examples<a class="anchor" aria-label="anchor" href="#examples-5"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="../reference/mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span>
<span><span class="va">task</span><span class="op">$</span><span class="fu">filter</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">task</span><span class="op">$</span><span class="va">nrow</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Task-select"></a><div class="section">
<h3 id="method-select-">Method <code>select()</code><a class="anchor" aria-label="anchor" href="#method-select-"></a></h3>
<p>Subsets the task, keeping only the features specified via column names <code>cols</code>.
Note that you cannot deselect the target column, for obvious reasons.</p>
<p>This operation mutates the task in-place.
See the section on task mutators for more information.</p><div class="section">
<h4 id="usage-11">Usage<a class="anchor" aria-label="anchor" href="#usage-11"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Task</span><span class="op">$</span><span class="fu">select</span><span class="op">(</span><span class="va">cols</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-10">Arguments<a class="anchor" aria-label="anchor" href="#arguments-10"></a></h4>
<p></p><div class="arguments"><dl><dt><code>cols</code></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>)<br>
Vector of column names.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-7">Returns<a class="anchor" aria-label="anchor" href="#returns-7"></a></h4>
<p>Returns the object itself, but modified <strong>by reference</strong>.
You need to explicitly <code>$clone()</code> the object beforehand if you want to keeps
the object in its previous state.</p>
</div>
<div class="section">
<h4 id="examples-6">Examples<a class="anchor" aria-label="anchor" href="#examples-6"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="../reference/mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span>
<span><span class="va">task</span><span class="op">$</span><span class="fu">select</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"bill_length"</span>, <span class="st">"bill_depth"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">task</span><span class="op">$</span><span class="va">feature_names</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Task-rbind"></a><div class="section">
<h3 id="method-rbind-">Method <code><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind()</a></code><a class="anchor" aria-label="anchor" href="#method-rbind-"></a></h3>
<p>Adds additional rows to the <a href="DataBackend.html">DataBackend</a> stored in <code>$backend</code>.
New row ids are automatically created, unless <code>data</code> has a column whose name matches
the primary key of the <a href="DataBackend.html">DataBackend</a> (<code>task$backend$primary_key</code>).
In case of name clashes of row ids, rows in <code>data</code> have higher precedence
and virtually overwrite the rows in the <a href="DataBackend.html">DataBackend</a>.</p>
<p>All columns roles <code>"target"</code>, <code>"feature"</code>, <code>"weights_learner"</code>, <code>"weights_measure"</code>,
<code>"group"</code>, <code>"stratum"</code>, and <code>"order"</code> must be present in <code>data</code>.
Columns only present in <code>data</code> but not in the <a href="DataBackend.html">DataBackend</a> of <code>task</code> will be discarded.</p>
<p>This operation mutates the task in-place.
See the section on task mutators for more information.</p><div class="section">
<h4 id="usage-12">Usage<a class="anchor" aria-label="anchor" href="#usage-12"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Task</span><span class="op">$</span><span class="fu">rbind</span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-11">Arguments<a class="anchor" aria-label="anchor" href="#arguments-11"></a></h4>
<p></p><div class="arguments"><dl><dt><code>data</code></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame()</a></code>).</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-8">Returns<a class="anchor" aria-label="anchor" href="#returns-8"></a></h4>
<p>Returns the object itself, but modified <strong>by reference</strong>.
You need to explicitly <code>$clone()</code> the object beforehand if you want to keeps
the object in its previous state.</p>
</div>
<div class="section">
<h4 id="examples-7">Examples<a class="anchor" aria-label="anchor" href="#examples-7"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="../reference/mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span>
<span><span class="va">extra</span> <span class="op">=</span> <span class="va">task</span><span class="op">$</span><span class="fu">data</span><span class="op">(</span>rows <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">task</span><span class="op">$</span><span class="fu">rbind</span><span class="op">(</span><span class="va">extra</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Task-cbind"></a><div class="section">
<h3 id="method-cbind-">Method <code><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind()</a></code><a class="anchor" aria-label="anchor" href="#method-cbind-"></a></h3>
<p>Adds additional columns to the <a href="DataBackend.html">DataBackend</a> stored in <code>$backend</code>.</p>
<p>The row ids must be provided as column in <code>data</code> (with column name matching the primary key name of the <a href="DataBackend.html">DataBackend</a>).
If this column is missing, it is assumed that the rows are exactly in the order of <code>$row_ids</code>.
In case of name clashes of column names in <code>data</code> and <a href="DataBackend.html">DataBackend</a>, columns in <code>data</code> have higher precedence
and virtually overwrite the columns in the <a href="DataBackend.html">DataBackend</a>.</p>
<p>This operation mutates the task in-place.
See the section on task mutators for more information.</p><div class="section">
<h4 id="usage-13">Usage<a class="anchor" aria-label="anchor" href="#usage-13"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Task</span><span class="op">$</span><span class="fu">cbind</span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-12">Arguments<a class="anchor" aria-label="anchor" href="#arguments-12"></a></h4>
<p></p><div class="arguments"><dl><dt><code>data</code></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame()</a></code>).</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="examples-8">Examples<a class="anchor" aria-label="anchor" href="#examples-8"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="../reference/mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span>
<span><span class="va">task</span><span class="op">$</span><span class="fu">cbind</span><span class="op">(</span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span>extra_col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="va">task</span><span class="op">$</span><span class="va">nrow</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">task</span><span class="op">$</span><span class="fu">data</span><span class="op">(</span>cols <span class="op">=</span> <span class="st">"extra_col"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Task-rename"></a><div class="section">
<h3 id="method-rename-">Method <code>rename()</code><a class="anchor" aria-label="anchor" href="#method-rename-"></a></h3>
<p>Renames columns by mapping column names in <code>old</code> to new column names in <code>new</code> (element-wise).</p>
<p>This operation mutates the task in-place.
See the section on task mutators for more information.</p><div class="section">
<h4 id="usage-14">Usage<a class="anchor" aria-label="anchor" href="#usage-14"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Task</span><span class="op">$</span><span class="fu">rename</span><span class="op">(</span><span class="va">old</span>, <span class="va">new</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-13">Arguments<a class="anchor" aria-label="anchor" href="#arguments-13"></a></h4>
<p></p><div class="arguments"><dl><dt><code>old</code></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>)<br>
Old names.</p></dd>


<dt><code>new</code></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>)<br>
New names.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-9">Returns<a class="anchor" aria-label="anchor" href="#returns-9"></a></h4>
<p>Returns the object itself, but modified <strong>by reference</strong>.
You need to explicitly <code>$clone()</code> the object beforehand if you want to keeps
the object in its previous state.</p>
</div>
<div class="section">
<h4 id="examples-9">Examples<a class="anchor" aria-label="anchor" href="#examples-9"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="../reference/mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span>
<span><span class="va">task</span><span class="op">$</span><span class="fu">rename</span><span class="op">(</span><span class="st">"body_mass"</span>, <span class="st">"mass"</span><span class="op">)</span></span>
<span><span class="va">task</span><span class="op">$</span><span class="va">feature_names</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Task-set_row_roles"></a><div class="section">
<h3 id="method-set-row-roles-">Method <code>set_row_roles()</code><a class="anchor" aria-label="anchor" href="#method-set-row-roles-"></a></h3>
<p>Modifies the roles in <code>$row_roles</code> <strong>in-place</strong>.</p><div class="section">
<h4 id="usage-15">Usage<a class="anchor" aria-label="anchor" href="#usage-15"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Task</span><span class="op">$</span><span class="fu">set_row_roles</span><span class="op">(</span><span class="va">rows</span>, roles <span class="op">=</span> <span class="cn">NULL</span>, add_to <span class="op">=</span> <span class="cn">NULL</span>, remove_from <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-14">Arguments<a class="anchor" aria-label="anchor" href="#arguments-14"></a></h4>
<p></p><div class="arguments"><dl><dt><code>rows</code></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer()</a></code>)<br>
Row ids for which to change the roles for.</p></dd>


<dt><code>roles</code></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>)<br>
Exclusively set rows to the specified <code>roles</code> (remove from other roles).</p></dd>


<dt><code>add_to</code></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>)<br>
Add rows with row ids <code>rows</code> to roles specified in <code>add_to</code>.
Rows keep their previous roles.</p></dd>


<dt><code>remove_from</code></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>)<br>
Remove rows with row ids <code>rows</code> from roles specified in <code>remove_from</code>.
Other row roles are preserved.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h4>
<p>Roles are first set exclusively (argument <code>roles</code>), then added (argument <code>add_to</code>) and finally
removed (argument <code>remove_from</code>) from different roles.
Duplicated row ids are explicitly allowed, so you can add replicate an observation by repeating its
<code>row_id</code>.</p>
</div>

<div class="section">
<h4 id="returns-10">Returns<a class="anchor" aria-label="anchor" href="#returns-10"></a></h4>
<p>Returns the object itself, but modified <strong>by reference</strong>.
You need to explicitly <code>$clone()</code> the object beforehand if you want to keeps
the object in its previous state.</p>
</div>
<div class="section">
<h4 id="examples-10">Examples<a class="anchor" aria-label="anchor" href="#examples-10"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="../reference/mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span>
<span><span class="va">task</span><span class="op">$</span><span class="fu">set_row_roles</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, remove_from <span class="op">=</span> <span class="st">"use"</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Task-set_col_roles"></a><div class="section">
<h3 id="method-set-col-roles-">Method <code>set_col_roles()</code><a class="anchor" aria-label="anchor" href="#method-set-col-roles-"></a></h3>
<p>Modifies the roles in <code>$col_roles</code> <strong>in-place</strong>.
See <code>$col_roles</code> for a list of possible roles.</p><div class="section">
<h4 id="usage-16">Usage<a class="anchor" aria-label="anchor" href="#usage-16"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Task</span><span class="op">$</span><span class="fu">set_col_roles</span><span class="op">(</span><span class="va">cols</span>, roles <span class="op">=</span> <span class="cn">NULL</span>, add_to <span class="op">=</span> <span class="cn">NULL</span>, remove_from <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-15">Arguments<a class="anchor" aria-label="anchor" href="#arguments-15"></a></h4>
<p></p><div class="arguments"><dl><dt><code>cols</code></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>)<br>
Column names for which to change the roles for.</p></dd>


<dt><code>roles</code></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>)<br>
Exclusively set columns to the specified <code>roles</code> (remove from other roles).</p></dd>


<dt><code>add_to</code></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>)<br>
Add columns with column names <code>cols</code> to roles specified in <code>add_to</code>.
Columns keep their previous roles.</p></dd>


<dt><code>remove_from</code></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>)<br>
Remove columns with columns names <code>cols</code> from roles specified in <code>remove_from</code>.
Other column roles are preserved.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-1">Details<a class="anchor" aria-label="anchor" href="#details-1"></a></h4>
<p>Roles are first set exclusively (argument <code>roles</code>), then added (argument <code>add_to</code>) and finally removed (argument <code>remove_from</code>) from different roles.
Duplicated columns are removed from the same role.
For tasks that only allow one target, the target column cannot be set with <code>$set_col_roles()</code>.
Use the <code>$col_roles</code> field to swap the target column.</p>
</div>

<div class="section">
<h4 id="returns-11">Returns<a class="anchor" aria-label="anchor" href="#returns-11"></a></h4>
<p>Returns the object itself, but modified <strong>by reference</strong>.
You need to explicitly <code>$clone()</code> the object beforehand if you want to keeps
the object in its previous state.</p>
</div>
<div class="section">
<h4 id="examples-11">Examples<a class="anchor" aria-label="anchor" href="#examples-11"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="../reference/mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span>
<span><span class="va">task</span><span class="op">$</span><span class="fu">set_col_roles</span><span class="op">(</span><span class="st">"sex"</span>, roles <span class="op">=</span> <span class="st">"stratum"</span><span class="op">)</span></span>
<span><span class="va">task</span><span class="op">$</span><span class="va">col_roles</span><span class="op">$</span><span class="va">stratum</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Task-set_levels"></a><div class="section">
<h3 id="method-set-levels-">Method <code>set_levels()</code><a class="anchor" aria-label="anchor" href="#method-set-levels-"></a></h3>
<p>Set levels for columns of type <code>factor</code> and <code>ordered</code> in field <code>col_info</code>.
You can add, remove or reorder the levels, affecting the data returned by
<code>$data()</code> and <code>$levels()</code>.
If you just want to remove unused levels, use <code>$droplevels()</code> instead.</p>
<p>Note that factor levels which are present in the data but not listed in the task as
valid levels are converted to missing values.</p><div class="section">
<h4 id="usage-17">Usage<a class="anchor" aria-label="anchor" href="#usage-17"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Task</span><span class="op">$</span><span class="fu">set_levels</span><span class="op">(</span><span class="va">levels</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-16">Arguments<a class="anchor" aria-label="anchor" href="#arguments-16"></a></h4>
<p></p><div class="arguments"><dl><dt><code>levels</code></dt>
<dd><p>(named <code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code> of <code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>)<br>
List of character vectors of new levels, named by column names.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-12">Returns<a class="anchor" aria-label="anchor" href="#returns-12"></a></h4>
<p>Modified <code>self</code>.</p>
</div>
<div class="section">
<h4 id="examples-12">Examples<a class="anchor" aria-label="anchor" href="#examples-12"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="../reference/mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span>
<span><span class="va">task</span><span class="op">$</span><span class="fu">set_levels</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>sex <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"male"</span>, <span class="st">"female"</span>, <span class="st">"unknown"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">task</span><span class="op">$</span><span class="fu">levels</span><span class="op">(</span><span class="st">"sex"</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Task-droplevels"></a><div class="section">
<h3 id="method-droplevels-">Method <code><a href="https://rdrr.io/r/base/droplevels.html" class="external-link">droplevels()</a></code><a class="anchor" aria-label="anchor" href="#method-droplevels-"></a></h3>
<p>Updates the cache of stored factor levels, removing all levels not present in the current set of active rows.
<code>cols</code> defaults to all columns with storage type "factor" or "ordered".</p><div class="section">
<h4 id="usage-18">Usage<a class="anchor" aria-label="anchor" href="#usage-18"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Task</span><span class="op">$</span><span class="fu">droplevels</span><span class="op">(</span>cols <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-17">Arguments<a class="anchor" aria-label="anchor" href="#arguments-17"></a></h4>
<p></p><div class="arguments"><dl><dt><code>cols</code></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>)<br>
Vector of column names.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-13">Returns<a class="anchor" aria-label="anchor" href="#returns-13"></a></h4>
<p>Modified <code>self</code>.</p>
</div>
<div class="section">
<h4 id="examples-13">Examples<a class="anchor" aria-label="anchor" href="#examples-13"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="../reference/mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span>
<span><span class="va">task</span><span class="op">$</span><span class="fu">set_levels</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>sex <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"male"</span>, <span class="st">"female"</span>, <span class="st">"unknown"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">task</span><span class="op">$</span><span class="fu">levels</span><span class="op">(</span><span class="st">"sex"</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Task-add_strata"></a><div class="section">
<h3 id="method-add-strata-">Method <code>add_strata()</code><a class="anchor" aria-label="anchor" href="#method-add-strata-"></a></h3>
<p>Cuts numeric variables into new factors columns which are added to the task with role
<code>"stratum"</code>.
This ensures that all training and test splits contain observations from all bins.
The columns are named <code>"..stratum_[col_name]"</code>.</p><div class="section">
<h4 id="usage-19">Usage<a class="anchor" aria-label="anchor" href="#usage-19"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Task</span><span class="op">$</span><span class="fu">add_strata</span><span class="op">(</span><span class="va">cols</span>, bins <span class="op">=</span> <span class="fl">3L</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-18">Arguments<a class="anchor" aria-label="anchor" href="#arguments-18"></a></h4>
<p></p><div class="arguments"><dl><dt><code>cols</code></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>)<br>
Names of columns to operate on.</p></dd>


<dt><code>bins</code></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer()</a></code>)<br>
Number of bins to cut into (passed to <code><a href="https://rdrr.io/r/base/cut.html" class="external-link">cut()</a></code> as <code>breaks</code>).
Replicated to have the same length as <code>cols</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-14">Returns<a class="anchor" aria-label="anchor" href="#returns-14"></a></h4>
<p>self (invisibly).</p>
</div>
<div class="section">
<h4 id="examples-14">Examples<a class="anchor" aria-label="anchor" href="#examples-14"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="../reference/mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span>
<span><span class="va">task</span><span class="op">$</span><span class="fu">add_strata</span><span class="op">(</span><span class="st">"flipper_length"</span>, bins <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Task-materialize_view"></a><div class="section">
<h3 id="method-materialize-view-">Method <code>materialize_view()</code><a class="anchor" aria-label="anchor" href="#method-materialize-view-"></a></h3>
<p>Certain operations change the view on the data, e.g., <code>$filter()</code> or <code>$select()</code>.
This operation queries the <a href="DataBackend.html">DataBackend</a> for all data required in the active view and
replaces the internal <a href="DataBackend.html">DataBackend</a> with the new one. In some scenarios this helps to
free up memory or speeds up accesses to the data, especially after several <code>$rbind()</code>
and <code>$cbind()</code> operations.</p><div class="section">
<h4 id="usage-20">Usage<a class="anchor" aria-label="anchor" href="#usage-20"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Task</span><span class="op">$</span><span class="fu">materialize_view</span><span class="op">(</span>internal_valid_task <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-19">Arguments<a class="anchor" aria-label="anchor" href="#arguments-19"></a></h4>
<p></p><div class="arguments"><dl><dt><code>internal_valid_task</code></dt>
<dd><p>(<code>logical(1)</code>)<br>
Also materialize the internal validation task. Default is <code>TRUE</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-2">Details<a class="anchor" aria-label="anchor" href="#details-2"></a></h4>
<p>For tasks containing the same observation more than once (duplicates in <code>$row_ids</code>),
the resulting backend contains it only once.</p>
</div>

<div class="section">
<h4 id="returns-15">Returns<a class="anchor" aria-label="anchor" href="#returns-15"></a></h4>
<p>self (invisibly).</p>
</div>
<div class="section">
<h4 id="examples-15">Examples<a class="anchor" aria-label="anchor" href="#examples-15"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="../reference/mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"iris"</span><span class="op">)</span></span>
<span><span class="va">task</span><span class="op">$</span><span class="va">backend</span><span class="op">$</span><span class="va">nrow</span></span>
<span><span class="va">task</span><span class="op">$</span><span class="fu">filter</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">120</span><span class="op">)</span></span>
<span><span class="va">task</span><span class="op">$</span><span class="va">backend</span><span class="op">$</span><span class="va">nrow</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Task-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-21">Usage<a class="anchor" aria-label="anchor" href="#usage-21"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Task</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-20">Arguments<a class="anchor" aria-label="anchor" href="#arguments-20"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># We use the inherited class TaskClassif here,</span></span></span>
<span class="r-in"><span><span class="co"># because the base class `Task` is not intended for direct use</span></span></span>
<span class="r-in"><span><span class="va">task</span> <span class="op">=</span> <span class="va"><a href="TaskClassif.html">TaskClassif</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="st">"penguings"</span>, <span class="fu">palmerpenguins</span><span class="fu">::</span><span class="va"><a href="https://allisonhorst.github.io/palmerpenguins/reference/penguins.html" class="external-link">penguins</a></span>, target <span class="op">=</span> <span class="st">"species"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">task</span><span class="op">$</span><span class="va">nrow</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 344</span>
<span class="r-in"><span><span class="va">task</span><span class="op">$</span><span class="va">ncol</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 8</span>
<span class="r-in"><span><span class="va">task</span><span class="op">$</span><span class="va">feature_names</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "bill_depth_mm"     "bill_length_mm"    "body_mass_g"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4] "flipper_length_mm" "island"            "sex"              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [7] "year"             </span>
<span class="r-in"><span><span class="va">task</span><span class="op">$</span><span class="fu">formula</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> species ~ .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># de-select "year"</span></span></span>
<span class="r-in"><span><span class="va">task</span><span class="op">$</span><span class="fu">select</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sets.html" class="external-link">setdiff</a></span><span class="op">(</span><span class="va">task</span><span class="op">$</span><span class="va">feature_names</span>, <span class="st">"year"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">task</span><span class="op">$</span><span class="va">feature_names</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "bill_depth_mm"     "bill_length_mm"    "body_mass_g"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4] "flipper_length_mm" "island"            "sex"              </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Add new column "foo"</span></span></span>
<span class="r-in"><span><span class="va">task</span><span class="op">$</span><span class="fu">cbind</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>foo <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">344</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">task</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    species bill_depth_mm bill_length_mm body_mass_g flipper_length_mm    island</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     &lt;fctr&gt;         &lt;num&gt;          &lt;num&gt;       &lt;int&gt;             &lt;int&gt;    &lt;fctr&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:  Adelie          18.7           39.1        3750               181 Torgersen</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:  Adelie          17.4           39.5        3800               186 Torgersen</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:  Adelie          18.0           40.3        3250               195 Torgersen</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:  Adelie            NA             NA          NA                NA Torgersen</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:  Adelie          19.3           36.7        3450               193 Torgersen</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6:  Adelie          20.6           39.3        3650               190 Torgersen</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       sex   foo</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    &lt;fctr&gt; &lt;int&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:   male     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2: female     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3: female     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:   &lt;NA&gt;     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5: female     5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6:   male     6</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Task$data`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">task</span><span class="op">$</span><span class="fu">data</span><span class="op">(</span>rows <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"species"</span>, <span class="st">"sex"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    species    sex</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     &lt;fctr&gt; &lt;fctr&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:  Adelie   male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:  Adelie female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:  Adelie female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:  Adelie   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:  Adelie female</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Task$formula`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">task</span><span class="op">$</span><span class="fu">formula</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> species ~ .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Task$head`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">task</span><span class="op">$</span><span class="fu">head</span><span class="op">(</span><span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    species bill_depth bill_length body_mass flipper_length    island    sex</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     &lt;fctr&gt;      &lt;num&gt;       &lt;num&gt;     &lt;int&gt;          &lt;int&gt;    &lt;fctr&gt; &lt;fctr&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:  Adelie       18.7        39.1      3750            181 Torgersen   male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:  Adelie       17.4        39.5      3800            186 Torgersen female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:  Adelie       18.0        40.3      3250            195 Torgersen female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    &lt;int&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:  2007</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:  2007</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:  2007</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Task$levels`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">task</span><span class="op">$</span><span class="fu">levels</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $island</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Biscoe"    "Dream"     "Torgersen"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $sex</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "female" "male"  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $species</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Adelie"    "Chinstrap" "Gentoo"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Task$missings`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">task</span><span class="op">$</span><span class="fu">missings</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        species     bill_depth    bill_length      body_mass flipper_length </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              0              2              2              2              2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         island            sex           year </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              0             11              0 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Task$filter`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">task</span><span class="op">$</span><span class="fu">filter</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">task</span><span class="op">$</span><span class="va">nrow</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 10</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Task$select`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">task</span><span class="op">$</span><span class="fu">select</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"bill_length"</span>, <span class="st">"bill_depth"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">task</span><span class="op">$</span><span class="va">feature_names</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "bill_depth"  "bill_length"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Task$rbind`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">extra</span> <span class="op">=</span> <span class="va">task</span><span class="op">$</span><span class="fu">data</span><span class="op">(</span>rows <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">task</span><span class="op">$</span><span class="fu">rbind</span><span class="op">(</span><span class="va">extra</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Task$cbind`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">task</span><span class="op">$</span><span class="fu">cbind</span><span class="op">(</span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span>extra_col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="va">task</span><span class="op">$</span><span class="va">nrow</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">task</span><span class="op">$</span><span class="fu">data</span><span class="op">(</span>cols <span class="op">=</span> <span class="st">"extra_col"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    extra_col</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        &lt;int&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:         1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:         2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:         3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:         4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:         5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6:         6</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Task$rename`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">task</span><span class="op">$</span><span class="fu">rename</span><span class="op">(</span><span class="st">"body_mass"</span>, <span class="st">"mass"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">task</span><span class="op">$</span><span class="va">feature_names</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "bill_depth"     "bill_length"    "mass"           "flipper_length"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] "island"         "sex"            "year"          </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Task$set_row_roles`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">task</span><span class="op">$</span><span class="fu">set_row_roles</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, remove_from <span class="op">=</span> <span class="st">"use"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Task$set_col_roles`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">task</span><span class="op">$</span><span class="fu">set_col_roles</span><span class="op">(</span><span class="st">"sex"</span>, roles <span class="op">=</span> <span class="st">"stratum"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">task</span><span class="op">$</span><span class="va">col_roles</span><span class="op">$</span><span class="va">stratum</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "sex"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Task$set_levels`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">task</span><span class="op">$</span><span class="fu">set_levels</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>sex <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"male"</span>, <span class="st">"female"</span>, <span class="st">"unknown"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">task</span><span class="op">$</span><span class="fu">levels</span><span class="op">(</span><span class="st">"sex"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $sex</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "male"    "female"  "unknown"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Task$droplevels`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">task</span><span class="op">$</span><span class="fu">set_levels</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>sex <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"male"</span>, <span class="st">"female"</span>, <span class="st">"unknown"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">task</span><span class="op">$</span><span class="fu">levels</span><span class="op">(</span><span class="st">"sex"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $sex</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "male"    "female"  "unknown"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Task$add_strata`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">task</span><span class="op">$</span><span class="fu">add_strata</span><span class="op">(</span><span class="st">"flipper_length"</span>, bins <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Task$materialize_view`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"iris"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">task</span><span class="op">$</span><span class="va">backend</span><span class="op">$</span><span class="va">nrow</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 150</span>
<span class="r-in"><span><span class="va">task</span><span class="op">$</span><span class="fu">filter</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">120</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">task</span><span class="op">$</span><span class="va">backend</span><span class="op">$</span><span class="va">nrow</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 150</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Michel Lang, Bernd Bischl, Jakob Richter, Patrick Schratz, Martin Binder, Florian Pfisterer, Raphael Sonabend, Marc Becker, Sebastian Fischer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

