<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>DataBackend — DataBackend • mlr3</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>

<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/journal/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<link href="../extra.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="DataBackend — DataBackend" />
<meta property="og:description" content="This is the abstract base class for data backends.
Data Backends provide a layer of abstraction for various data storage systems.
It is not recommended to work directly with the DataBackend.
Instead, all data access is handled transparently via the Task.
To connect to out-of-memory database management systems such as SQL servers, see mlr3db.
The required set of fields and methods to implement a custom DataBackend is listed in the respective sections.
See DataBackendDataTable or DataBackendMatrix for exemplary implementations of the interface." />
<meta property="og:image" content="https://mlr3.mlr-org.com/logo.png" />
<meta name="twitter:card" content="summary" />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a href="https://mlr-org.com"><img src="https://raw.githubusercontent.com/mlr-org/mlr3/master/man/figures/logo.png" id="hexlogo" alt="mlr-org" /></a>
        <a class="navbar-brand" href="../index.html">mlr3 <small>v0.1.6.9000</small></a>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../reference/index.html">
    <span class="fa fa fa fa-file-alt"></span>
     
    Reference
  </a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="https://mlr3book.mlr-org.com">
    <span class="fa fa fa fa-link"></span>
     
    mlr3book
  </a>
</li>
        <li>
  <a href="https://github.com/mlr-org/mlr3">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://mlr-org.slack.com">
    <span class="fab fa fab fa-slack"></span>
     
  </a>
</li>
<li>
  <a href="https://stackoverflow.com/questions/tagged/mlr">
    <span class="fab fa fab fa-stack-overflow"></span>
     
  </a>
</li>
<li>
  <a href="https://mlr-org.com/">
    <span class="fa fa-rss"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right docsearch" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>DataBackend</h1>
    <small class="dont-index">Source: <a href='https://github.com/mlr-org/mlr3/blob/master/R/DataBackend.R'><code>R/DataBackend.R</code></a></small>
    <div class="hidden name"><code>DataBackend.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This is the abstract base class for data backends.</p>
<p>Data Backends provide a layer of abstraction for various data storage systems.
It is not recommended to work directly with the DataBackend.
Instead, all data access is handled transparently via the <a href='Task.html'>Task</a>.</p>
<p>To connect to out-of-memory database management systems such as SQL servers, see <a href='https://CRAN.R-project.org/package=mlr3db'><span class="pkg">mlr3db</span></a>.</p>
<p>The required set of fields and methods to implement a custom DataBackend is listed in the respective sections.
See <a href='DataBackendDataTable.html'>DataBackendDataTable</a> or <a href='DataBackendMatrix.html'>DataBackendMatrix</a> for exemplary implementations of the interface.</p>
    </div>



    <h2 class="hasAnchor" id="format"><a class="anchor" href="#format"></a>Format</h2>

    <p><a href='https://rdrr.io/pkg/R6/man/R6Class.html'>R6::R6Class</a> object.</p>
    <h2 class="hasAnchor" id="construction"><a class="anchor" href="#construction"></a>Construction</h2>

    

<p>Note: This object is typically constructed via a derived classes, e.g. <a href='DataBackendDataTable.html'>DataBackendDataTable</a> or <a href='DataBackendMatrix.html'>DataBackendMatrix</a>,
or via the S3 method <code><a href='as_data_backend.html'>as_data_backend()</a></code>.</p><pre>DataBackend$new(data, primary_key = NULL, data_formats = "data.table")
</pre>
<ul>
<li><p><code>data</code> :: <code>any</code><br />
The format of the input data depends on the specialization.
E.g., <a href='DataBackendDataTable.html'>DataBackendDataTable</a> expects a <code><a href='https://Rdatatable.gitlab.io/data.table/reference/data.table.html'>data.table::data.table()</a></code> and <a href='DataBackendMatrix.html'>DataBackendMatrix</a> expects a <code><a href='https://rdrr.io/pkg/Matrix/man/Matrix.html'>Matrix::Matrix()</a></code>
constructed with the <a href='https://CRAN.R-project.org/package=Matrix'><span class="pkg">Matrix</span></a> package.</p></li>
<li><p><code>primary_key</code> :: <code><a href='https://rdrr.io/r/base/character.html'>character(1)</a></code><br />
Each DataBackend needs a way to address rows, which is done via a column of unique values, referenced here by <code>primary_key</code>.
The use of this variable may differ between backends.</p></li>
<li><p>data_formats (<code><a href='https://rdrr.io/r/base/character.html'>character()</a></code>)<br />
Set of supported formats, e.g. <code>"data.table"</code> or <code>"Matrix"</code>.</p></li>
</ul>

    <h2 class="hasAnchor" id="fields"><a class="anchor" href="#fields"></a>Fields</h2>

    

<ul>
<li><p><code>nrow</code> :: <code><a href='https://rdrr.io/r/base/integer.html'>integer(1)</a></code><br />
Number of rows (observations).</p></li>
<li><p><code>ncol</code> :: <code><a href='https://rdrr.io/r/base/integer.html'>integer(1)</a></code><br />
Number of columns (variables), including the primary key column.</p></li>
<li><p><code>colnames</code> :: <code><a href='https://rdrr.io/r/base/character.html'>character()</a></code><br />
Returns vector of all column names, including the primary key column.</p></li>
<li><p><code>rownames</code> :: (<code><a href='https://rdrr.io/r/base/integer.html'>integer()</a></code> | <code><a href='https://rdrr.io/r/base/character.html'>character()</a></code>)<br />
Returns vector of all distinct row identifiers, i.e. the primary key column.</p></li>
<li><p><code>hash</code> :: <code><a href='https://rdrr.io/r/base/character.html'>character(1)</a></code><br />
Returns a unique hash for this backend. This hash is cached.</p></li>
<li><p><code>data_formats</code> :: <code><a href='https://rdrr.io/r/base/character.html'>character()</a></code><br />
Vector of supported data formats.
A specific format can be chosen in the <code>$data()</code> method.</p></li>
</ul>

    <h2 class="hasAnchor" id="methods"><a class="anchor" href="#methods"></a>Methods</h2>

    

<ul>
<li><p><code><a href='https://rdrr.io/r/utils/data.html'>data(rows = NULL, cols = NULL, format = "data.table")</a></code><br />
(<code><a href='https://rdrr.io/r/base/integer.html'>integer()</a></code> | <code><a href='https://rdrr.io/r/base/character.html'>character()</a></code>, <code><a href='https://rdrr.io/r/base/character.html'>character()</a></code>) -&gt; <code>any</code><br />
Returns a slice of the data in the specified format.
Currently, the only supported formats are <code>"data.table"</code> and <code>"Matrix"</code>.
The rows must be addressed as vector of primary key values, columns must be referred to via column names.
Queries for rows with no matching row id and queries for columns with no matching column name are silently ignored.
Rows are guaranteed to be returned in the same order as <code>rows</code>, columns may be returned in an arbitrary order.
Duplicated row ids result in duplicated rows, duplicated column names lead to an exception.</p></li>
<li><p><code>distinct(rows, cols, na_rm = TRUE)</code><br />
(<code><a href='https://rdrr.io/r/base/integer.html'>integer()</a></code> | <code><a href='https://rdrr.io/r/base/character.html'>character()</a></code>, <code><a href='https://rdrr.io/r/base/character.html'>character()</a></code>, <code><a href='https://rdrr.io/r/base/logical.html'>logical(1)</a></code>) -&gt; named <code><a href='https://rdrr.io/r/base/list.html'>list()</a></code><br />
Returns a named list of vectors of distinct values for each column specified.
If <code>na_rm</code> is <code>TRUE</code>, missing values are removed from the returned vectors of distinct values.
Non-existing rows and columns are silently ignored.</p>
<p>If <code>rows</code> is <code>NULL</code>, all possible distinct values will be returned, even if the value is not present in the data.
This affects factor-like variables with empty levels, if supported by the backend.</p></li>
<li><p><code><a href='https://rdrr.io/r/utils/head.html'>head(n = 6)</a></code><br />
<code><a href='https://rdrr.io/r/base/integer.html'>integer(1)</a></code> -&gt; <code><a href='https://Rdatatable.gitlab.io/data.table/reference/data.table.html'>data.table::data.table()</a></code><br />
Returns the first up-to <code>n</code> rows of the data as <code><a href='https://Rdatatable.gitlab.io/data.table/reference/data.table.html'>data.table::data.table()</a></code>.</p></li>
<li><p><code>missings(rows, cols)</code><br />
(<code><a href='https://rdrr.io/r/base/integer.html'>integer()</a></code> | <code><a href='https://rdrr.io/r/base/character.html'>character()</a></code>, <code><a href='https://rdrr.io/r/base/character.html'>character()</a></code>) -&gt; named <code><a href='https://rdrr.io/r/base/integer.html'>integer()</a></code><br />
Returns the number of missing values per column in the specified slice of data.
Non-existing rows and columns are silently ignored.</p></li>
</ul>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Extension Packages: <a href='https://CRAN.R-project.org/package=mlr3db'><span class="pkg">mlr3db</span></a></p>
<p>Other DataBackend: 
<code><a href='DataBackendDataTable.html'>DataBackendDataTable</a></code>,
<code><a href='DataBackendMatrix.html'>DataBackendMatrix</a></code>,
<code><a href='as_data_backend.html'>as_data_backend</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>data</span> <span class='kw'>=</span> <span class='kw pkg'>data.table</span><span class='kw ns'>::</span><span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/data.table.html'>data.table</a></span>(<span class='kw'>id</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>5</span>, <span class='kw'>x</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span>(<span class='fl'>5</span>), <span class='kw'>y</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span>(<span class='no'>letters</span>[<span class='fl'>1</span>:<span class='fl'>3</span>], <span class='fl'>5</span>, <span class='kw'>replace</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>))

<span class='no'>b</span> <span class='kw'>=</span> <span class='no'>DataBackendDataTable</span>$<span class='fu'>new</span>(<span class='no'>data</span>, <span class='kw'>primary_key</span> <span class='kw'>=</span> <span class='st'>"id"</span>)
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span>(<span class='no'>b</span>)</div><div class='output co'>#&gt; &lt;DataBackendDataTable&gt; (5x3)
#&gt;  id          x y
#&gt;   1 0.70066184 a
#&gt;   2 0.04373037 a
#&gt;   3 0.91952597 b
#&gt;   4 0.98109477 a
#&gt;   5 0.81599705 a</div><div class='input'><span class='no'>b</span>$<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span>(<span class='fl'>2</span>)</div><div class='output co'>#&gt;    id          x y
#&gt; 1:  1 0.70066184 a
#&gt; 2:  2 0.04373037 a</div><div class='input'><span class='no'>b</span>$<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='kw'>rows</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>2</span>, <span class='kw'>cols</span> <span class='kw'>=</span> <span class='st'>"x"</span>)</div><div class='output co'>#&gt;             x
#&gt; 1: 0.70066184
#&gt; 2: 0.04373037</div><div class='input'><span class='no'>b</span>$<span class='fu'>distinct</span>(<span class='kw'>rows</span> <span class='kw'>=</span> <span class='no'>b</span>$<span class='no'>rownames</span>, <span class='st'>"y"</span>)</div><div class='output co'>#&gt; $y
#&gt; [1] "a" "b"
#&gt; </div><div class='input'><span class='no'>b</span>$<span class='fu'>missings</span>(<span class='kw'>rows</span> <span class='kw'>=</span> <span class='no'>b</span>$<span class='no'>rownames</span>, <span class='kw'>cols</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span>(<span class='no'>data</span>))</div><div class='output co'>#&gt; id  x  y 
#&gt;  0  0  0 </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#format">Format</a></li>
      <li><a href="#construction">Construction</a></li>
      <li><a href="#fields">Fields</a></li>
      <li><a href="#methods">Methods</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Michel Lang, Bernd Bischl, Jakob Richter, Patrick Schratz, Martin Binder.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '9c3abd63d461245fb19ebd2d2645c5b0',
    indexName: 'mlr3',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


