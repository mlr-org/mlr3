<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This is the abstract base class for resampling objects like ResamplingCV and ResamplingBootstrap.
The objects of this class define how a task is partitioned for resampling (e.g., in resample() or benchmark()),
using a set of hyperparameters such as the number of folds in cross-validation.
Resampling objects can be instantiated on a Task, which applies the strategy on the task and manifests in a
fixed partition of row_ids of the Task.
Predefined resamplings are stored in the dictionary mlr_resamplings,
e.g. cv or bootstrap."><title>Resampling Class — Resampling • mlr3</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><link href="../deps/_Roboto-0.4.1/font.css" rel="stylesheet"><link href="../deps/_JetBrains%20Mono-0.4.1/font.css" rel="stylesheet"><link href="../deps/_Roboto%20Slab-0.4.1/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Resampling Class — Resampling"><meta property="og:description" content="This is the abstract base class for resampling objects like ResamplingCV and ResamplingBootstrap.
The objects of this class define how a task is partitioned for resampling (e.g., in resample() or benchmark()),
using a set of hyperparameters such as the number of folds in cross-validation.
Resampling objects can be instantiated on a Task, which applies the strategy on the task and manifests in a
fixed partition of row_ids of the Task.
Predefined resamplings are stored in the dictionary mlr_resamplings,
e.g. cv or bootstrap."><meta property="og:image" content="https://mlr3.mlr-org.com/logo.svg"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">mlr3</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.13.3-9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">
    <span class="fa fa fa fa-file-alt"></span>
     
    Reference
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://mlr3book.mlr-org.com">
    <span class="fa fa fa fa-link"></span>
     
    mlr3book
  </a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/mlr-org/mlr3/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite/">
    <span class="fa fa fa fa-comments"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://stackoverflow.com/questions/tagged/mlr3">
    <span class="fab fa fab fa-stack-overflow"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://mlr-org.com/">
    <span class="fa fa-rss"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Resampling Class</h1>
      <small class="dont-index">Source: <a href="https://github.com/mlr-org/mlr3/blob/HEAD/R/Resampling.R" class="external-link"><code>R/Resampling.R</code></a></small>
      <div class="d-none name"><code>Resampling.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This is the abstract base class for resampling objects like <a href="mlr_resamplings_cv.html">ResamplingCV</a> and <a href="mlr_resamplings_bootstrap.html">ResamplingBootstrap</a>.</p>
<p>The objects of this class define how a task is partitioned for resampling (e.g., in <code><a href="resample.html">resample()</a></code> or <code><a href="benchmark.html">benchmark()</a></code>),
using a set of hyperparameters such as the number of folds in cross-validation.</p>
<p>Resampling objects can be instantiated on a <a href="Task.html">Task</a>, which applies the strategy on the task and manifests in a
fixed partition of <code>row_ids</code> of the <a href="Task.html">Task</a>.</p>
<p>Predefined resamplings are stored in the <a href="https://mlr3misc.mlr-org.com/reference/Dictionary.html" class="external-link">dictionary</a> <a href="mlr_resamplings.html">mlr_resamplings</a>,
e.g. <code><a href="mlr_resamplings_cv.html">cv</a></code> or <code><a href="mlr_resamplings_bootstrap.html">bootstrap</a></code>.</p>
    </div>


    <div class="section level2">
    <h2 id="stratification">Stratification<a class="anchor" aria-label="anchor" href="#stratification"></a></h2>
    

<p>All derived classes support stratified sampling.
The stratification variables are assumed to be discrete and must be stored in the <a href="Task.html">Task</a> with column role <code>"stratum"</code>.
In case of multiple stratification variables, each combination of the values of the stratification variables forms a strata.</p>
<p>First, the observations are divided into subpopulations based one or multiple stratification variables (assumed to be discrete), c.f. <code>task$strata</code>.</p>
<p>Second, the sampling is performed in each of the <code>k</code> subpopulations separately.
Each subgroup is divided into <code>iter</code> training sets and <code>iter</code> test sets by the derived <code>Resampling</code>.
These sets are merged based on their iteration number:
all training sets from all subpopulations with iteration 1 are combined, then all training sets with iteration 2, and so on.
Same is done for all test sets.
The merged sets can be accessed via <code>$train_set(i)</code> and <code>$test_set(i)</code>, respectively.
Note that this procedure can lead to set sizes that are slightly different from those
without stratification.</p>
    </div>
    <div class="section level2">
    <h2 id="grouping-blocking">Grouping / Blocking<a class="anchor" aria-label="anchor" href="#grouping-blocking"></a></h2>
    

<p>All derived classes support grouping of observations.
The grouping variable is assumed to be discrete and must be stored in the <a href="Task.html">Task</a> with column role <code>"group"</code>.</p>
<p>Observations in the same group are treated like a "block" of observations which must be kept together.
These observations either all go together into the training set or together into the test set.</p>
<p>The sampling is performed by the derived Resampling on the grouping variable.
Next, the grouping information is replaced with the respective row ids to generate training and test sets.
The sets can be accessed via <code>$train_set(i)</code> and <code>$test_set(i)</code>, respectively.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index">
<ul><li><p>Chapter in the <a href="https://mlr3book.mlr-org.com/" class="external-link">mlr3book</a>:
<a href="https://mlr3book.mlr-org.com/basics.html#resampling" class="external-link">https://mlr3book.mlr-org.com/basics.html#resampling</a></p></li>
<li><p>Package <a href="https://CRAN.R-project.org/package=mlr3spatiotempcv" class="external-link"><span class="pkg">mlr3spatiotempcv</span></a> for spatio-temporal resamplings.</p></li>
<li><p><a href="https://mlr3misc.mlr-org.com/reference/Dictionary.html" class="external-link">Dictionary</a> of Resamplings: <a href="mlr_resamplings.html">mlr_resamplings</a></p></li>
<li><p><code>as.data.table(mlr_resamplings)</code> for a table of available Resamplings in the running session (depending on the loaded packages).</p></li>
<li><p><a href="https://CRAN.R-project.org/package=mlr3spatiotempcv" class="external-link"><span class="pkg">mlr3spatiotempcv</span></a> for additional Resamplings for spatio-temporal
tasks.</p></li>
</ul><p>Other Resampling: 
<code><a href="mlr_resamplings_bootstrap.html">mlr_resamplings_bootstrap</a></code>,
<code><a href="mlr_resamplings_custom_cv.html">mlr_resamplings_custom_cv</a></code>,
<code><a href="mlr_resamplings_custom.html">mlr_resamplings_custom</a></code>,
<code><a href="mlr_resamplings_cv.html">mlr_resamplings_cv</a></code>,
<code><a href="mlr_resamplings_holdout.html">mlr_resamplings_holdout</a></code>,
<code><a href="mlr_resamplings_insample.html">mlr_resamplings_insample</a></code>,
<code><a href="mlr_resamplings_loo.html">mlr_resamplings_loo</a></code>,
<code><a href="mlr_resamplings_repeated_cv.html">mlr_resamplings_repeated_cv</a></code>,
<code><a href="mlr_resamplings_subsampling.html">mlr_resamplings_subsampling</a></code>,
<code><a href="mlr_resamplings.html">mlr_resamplings</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="public-fields">Public fields<a class="anchor" aria-label="anchor" href="#public-fields"></a></h2>
    <p></p><div class="r6-fields"><dl><dt><code>id</code></dt>
<dd><p>(<code>character(1)</code>)<br>
Identifier of the object.
Used in tables, plot and text output.</p></dd>


<dt><code>label</code></dt>
<dd><p>(<code>character(1)</code>)<br>
Label for this object.
Can be used in tables, plot and text output instead of the ID.</p></dd>


<dt><code>param_set</code></dt>
<dd><p>(<a href="https://paradox.mlr-org.com/reference/ParamSet.html" class="external-link">paradox::ParamSet</a>)<br>
Set of hyperparameters.</p></dd>


<dt><code>instance</code></dt>
<dd><p>(any)<br>
During <code>instantiate()</code>, the instance is stored in this slot in an arbitrary format.
Note that if a grouping variable is present in the <a href="Task.html">Task</a>, a Resampling may operate on the
group ids internally instead of the row ids (which may lead to confusion).</p>
<p>It is advised to not work directly with the <code>instance</code>, but instead only use the getters
<code>$train_set()</code> and <code>$test_set()</code>.</p></dd>


<dt><code>task_hash</code></dt>
<dd><p>(<code>character(1)</code>)<br>
The hash of the <a href="Task.html">Task</a> which was passed to <code>r$instantiate()</code>.</p></dd>


<dt><code>task_nrow</code></dt>
<dd><p>(<code>integer(1)</code>)<br>
The number of observations of the <a href="Task.html">Task</a> which was passed to <code>r$instantiate()</code>.</p></dd>


<dt><code>duplicated_ids</code></dt>
<dd><p>(<code>logical(1)</code>)<br>
If <code>TRUE</code>, duplicated rows can occur within a single training set or within a single test set.
E.g., this is <code>TRUE</code> for Bootstrap, and <code>FALSE</code> for cross-validation.
Only used internally.</p></dd>


<dt><code>man</code></dt>
<dd><p>(<code>character(1)</code>)<br>
String in the format <code>[pkg]::[topic]</code> pointing to a manual page for this object.
Defaults to <code>NA</code>, but can be set by child classes.</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="active-bindings">Active bindings<a class="anchor" aria-label="anchor" href="#active-bindings"></a></h2>
    <p></p><div class="r6-active-bindings"><dl><dt><code>is_instantiated</code></dt>
<dd><p>(<code>logical(1)</code>)<br>
Is <code>TRUE</code> if the resampling has been instantiated.</p></dd>


<dt><code>hash</code></dt>
<dd><p>(<code>character(1)</code>)<br>
Hash (unique identifier) for this object.</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>
    
<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-new"><code>Resampling$new()</code></a></p></li>
<li><p><a href="#method-format"><code>Resampling$format()</code></a></p></li>
<li><p><a href="#method-print"><code>Resampling$print()</code></a></p></li>
<li><p><a href="#method-help"><code>Resampling$help()</code></a></p></li>
<li><p><a href="#method-instantiate"><code>Resampling$instantiate()</code></a></p></li>
<li><p><a href="#method-train_set"><code>Resampling$train_set()</code></a></p></li>
<li><p><a href="#method-test_set"><code>Resampling$test_set()</code></a></p></li>
<li><p><a href="#method-clone"><code>Resampling$clone()</code></a></p></li>
</ul></div><p></p><hr><a id="method-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Creates a new instance of this <a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6</a> class.</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va"><a href="../reference/Resampling.html">Resampling</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>
  <span class="va">id</span>,
  param_set <span class="op">=</span> <span class="fu">ps</span><span class="op">(</span><span class="op">)</span>,
  duplicated_ids <span class="op">=</span> <span class="cn">FALSE</span>,
  label <span class="op">=</span> <span class="cn">NA_character_</span>,
  man <span class="op">=</span> <span class="cn">NA_character_</span>
<span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>id</code></dt>
<dd><p>(<code>character(1)</code>)<br>
Identifier for the new instance.</p></dd>


<dt><code>param_set</code></dt>
<dd><p>(<a href="https://paradox.mlr-org.com/reference/ParamSet.html" class="external-link">paradox::ParamSet</a>)<br>
Set of hyperparameters.</p></dd>


<dt><code>duplicated_ids</code></dt>
<dd><p>(<code>logical(1)</code>)<br>
Set to <code>TRUE</code> if this resampling strategy may have duplicated row ids in a single training set or test set.</p>
<p>Note that this object is typically constructed via a derived classes, e.g. <a href="mlr_resamplings_cv.html">ResamplingCV</a> or <a href="mlr_resamplings_holdout.html">ResamplingHoldout</a>.</p></dd>


<dt><code>label</code></dt>
<dd><p>(<code>character(1)</code>)<br>
Label for the new instance.</p></dd>


<dt><code>man</code></dt>
<dd><p>(<code>character(1)</code>)<br>
String in the format <code>[pkg]::[topic]</code> pointing to a manual page for this object.
The referenced help package can be opened via method <code>$help()</code>.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-format"></a><div class="section">
<h3 id="method-format-">Method <code><a href="https://rdrr.io/r/base/format.html" class="external-link">format()</a></code><a class="anchor" aria-label="anchor" href="#method-format-"></a></h3>
<p>Helper for print outputs.</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Resampling</span><span class="op">$</span><span class="fu">format</span><span class="op">(</span><span class="op">)</span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-print"></a><div class="section">
<h3 id="method-print-">Method <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code><a class="anchor" aria-label="anchor" href="#method-print-"></a></h3>
<p>Printer.</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Resampling</span><span class="op">$</span><span class="fu">print</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>(ignored).</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-help"></a><div class="section">
<h3 id="method-help-">Method <code>help()</code><a class="anchor" aria-label="anchor" href="#method-help-"></a></h3>
<p>Opens the corresponding help page referenced by field <code>$man</code>.</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Resampling</span><span class="op">$</span><span class="fu">help</span><span class="op">(</span><span class="op">)</span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-instantiate"></a><div class="section">
<h3 id="method-instantiate-">Method <code>instantiate()</code><a class="anchor" aria-label="anchor" href="#method-instantiate-"></a></h3>
<p>Materializes fixed training and test splits for a given task and stores them in <code>r$instance</code>
in an arbitrary format.</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Resampling</span><span class="op">$</span><span class="fu">instantiate</span><span class="op">(</span><span class="va">task</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>task</code></dt>
<dd><p>(<a href="Task.html">Task</a>)<br>
Task used for instantiation.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>Returns the object itself, but modified <strong>by reference</strong>.
You need to explicitly <code>$clone()</code> the object beforehand if you want to keeps
the object in its previous state.</p>
</div>

</div><p></p><hr><a id="method-train_set"></a><div class="section">
<h3 id="method-train-set-">Method <code>train_set()</code><a class="anchor" aria-label="anchor" href="#method-train-set-"></a></h3>
<p>Returns the row ids of the i-th training set.</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Resampling</span><span class="op">$</span><span class="fu">train_set</span><span class="op">(</span><span class="va">i</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>i</code></dt>
<dd><p>(<code>integer(1)</code>)<br>
Iteration.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p>(<code><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer()</a></code>) of row ids.</p>
</div>

</div><p></p><hr><a id="method-test_set"></a><div class="section">
<h3 id="method-test-set-">Method <code>test_set()</code><a class="anchor" aria-label="anchor" href="#method-test-set-"></a></h3>
<p>Returns the row ids of the i-th test set.</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Resampling</span><span class="op">$</span><span class="fu">test_set</span><span class="op">(</span><span class="va">i</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>i</code></dt>
<dd><p>(<code>integer(1)</code>)<br>
Iteration.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-2">Returns<a class="anchor" aria-label="anchor" href="#returns-2"></a></h4>
<p>(<code><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer()</a></code>) of row ids.</p>
</div>

</div><p></p><hr><a id="method-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">Resampling</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="va">r</span> <span class="op">=</span> <span class="fu"><a href="mlr_sugar.html">rsmp</a></span><span class="op">(</span><span class="st">"subsampling"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Default parametrization</span></span>
<span class="r-in"><span class="va">r</span><span class="op">$</span><span class="va">param_set</span><span class="op">$</span><span class="va">values</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $repeats</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ratio</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.6666667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Do only 3 repeats on 10% of the data</span></span>
<span class="r-in"><span class="va">r</span><span class="op">$</span><span class="va">param_set</span><span class="op">$</span><span class="va">values</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>ratio <span class="op">=</span> <span class="fl">0.1</span>, repeats <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span class="r-in"><span class="va">r</span><span class="op">$</span><span class="va">param_set</span><span class="op">$</span><span class="va">values</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ratio</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $repeats</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Instantiate on penguins task</span></span>
<span class="r-in"><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">r</span><span class="op">$</span><span class="fu">instantiate</span><span class="op">(</span><span class="va">task</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Extract train/test sets</span></span>
<span class="r-in"><span class="va">train_set</span> <span class="op">=</span> <span class="va">r</span><span class="op">$</span><span class="fu">train_set</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">train_set</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 180  89 171  67  17 137 141 201 169  80 332 225 325 125 139 326 299 239 274</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [20] 306  98 330  18 314 244  24  82 211 108 307  64  31 235 234</span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/sets.html" class="external-link">intersect</a></span><span class="op">(</span><span class="va">train_set</span>, <span class="va">r</span><span class="op">$</span><span class="fu">test_set</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> integer(0)</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Another example: 10-fold CV</span></span>
<span class="r-in"><span class="va">r</span> <span class="op">=</span> <span class="fu"><a href="mlr_sugar.html">rsmp</a></span><span class="op">(</span><span class="st">"cv"</span><span class="op">)</span><span class="op">$</span><span class="fu">instantiate</span><span class="op">(</span><span class="va">task</span><span class="op">)</span></span>
<span class="r-in"><span class="va">r</span><span class="op">$</span><span class="fu">train_set</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1]  10  12  14  18  19  27  29  30  53  62  94  99 101 113 142 162 173 175</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [19] 179 187 188 189 219 233 242 254 261 267 268 271 272 284 303 308 321  16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [37]  25  37  39  42  67  72  80  86  98 114 120 126 130 143 177 178 181 190</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [55] 193 198 208 218 221 225 236 237 244 248 275 279 312 327 338 340  22  24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [73]  28  36  43  47  51  69  76  83  92 104 105 115 157 163 166 184 203 222</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [91] 231 253 256 264 270 274 278 292 293 307 309 322 326 331 344   6   8  13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [109]  34  40  45  49  74  82  84  88 102 122 138 140 147 155 172 196 197 211</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [127] 213 243 252 262 288 296 301 304 325 329 335 337 342   2  11  32  41  52</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [145]  70  90 117 124 133 135 146 152 153 159 161 164 176 185 186 192 217 220</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [163] 235 239 257 258 280 289 291 298 299 313 341   5  17  31  35  38  48  56</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [181]  61  65  68  78  95 108 111 112 116 123 131 167 195 210 216 224 250 263</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [199] 276 282 285 290 314 315 320 333 336   9  20  33  46  54  66  85 103 109</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [217] 118 128 134 148 151 154 156 165 171 206 215 223 234 238 247 259 286 294</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [235] 297 306 310 311 324 330 343   1   4  21  55  58  59  63  64  71  75  77</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [253]  81  91 121 127 132 137 144 149 174 191 194 199 214 226 228 232 240 265</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [271] 281 283 305 319 334  15  23  44  57  60  73  89  97 106 136 139 141 145</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [289] 150 158 160 200 201 202 204 205 209 229 246 249 251 255 266 287 316 318</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [307] 323 332 339</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Stratification</span></span>
<span class="r-in"><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"pima"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/proportions.html" class="external-link">prop.table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">task</span><span class="op">$</span><span class="fu">truth</span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="co"># moderately unbalanced</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       pos       neg </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.3489583 0.6510417 </span>
<span class="r-in"><span class="va">task</span><span class="op">$</span><span class="va">col_roles</span><span class="op">$</span><span class="va">stratum</span> <span class="op">=</span> <span class="va">task</span><span class="op">$</span><span class="va">target_names</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">r</span> <span class="op">=</span> <span class="fu"><a href="mlr_sugar.html">rsmp</a></span><span class="op">(</span><span class="st">"subsampling"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">r</span><span class="op">$</span><span class="fu">instantiate</span><span class="op">(</span><span class="va">task</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/proportions.html" class="external-link">prop.table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">task</span><span class="op">$</span><span class="fu">truth</span><span class="op">(</span><span class="va">r</span><span class="op">$</span><span class="fu">train_set</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="co"># roughly same proportion</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       pos       neg </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.3496094 0.6503906 </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Michel Lang, Bernd Bischl, Jakob Richter, Patrick Schratz, Martin Binder.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer></div>

  

  

  </body></html>

