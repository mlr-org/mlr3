<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Resampling Class — Resampling • mlr3</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.10/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Resampling Class — Resampling"><meta name="description" content="This is the abstract base class for resampling objects like ResamplingCV and ResamplingBootstrap.
The objects of this class define how a task is partitioned for resampling (e.g., in resample() or benchmark()),
using a set of hyperparameters such as the number of folds in cross-validation.
Resampling objects can be instantiated on a Task, which applies the strategy on the task and manifests in a
fixed partition of row_ids of the Task.
Predefined resamplings are stored in the dictionary mlr_resamplings,
e.g. cv or bootstrap."><meta property="og:description" content="This is the abstract base class for resampling objects like ResamplingCV and ResamplingBootstrap.
The objects of this class define how a task is partitioned for resampling (e.g., in resample() or benchmark()),
using a set of hyperparameters such as the number of folds in cross-validation.
Resampling objects can be instantiated on a Task, which applies the strategy on the task and manifests in a
fixed partition of row_ids of the Task.
Predefined resamplings are stored in the dictionary mlr_resamplings,
e.g. cv or bootstrap."><meta property="og:image" content="https://mlr3.mlr-org.com/logo.svg"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mlr3</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.1.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-file-alt"></span> Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mlr3book.mlr-org.com"><span class="fa fa-link"></span> mlr3book</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mlr-org/mlr3/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite/"><span class="fa fa-comments"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://stackoverflow.com/questions/tagged/mlr3"><span class="fa fab fa-stack-overflow"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mlr-org.com/"><span class="fa fa-rss"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Resampling Class</h1>
      <small class="dont-index">Source: <a href="https://github.com/mlr-org/mlr3/blob/main/R/Resampling.R" class="external-link"><code>R/Resampling.R</code></a></small>
      <div class="d-none name"><code>Resampling.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This is the abstract base class for resampling objects like <a href="mlr_resamplings_cv.html">ResamplingCV</a> and <a href="mlr_resamplings_bootstrap.html">ResamplingBootstrap</a>.</p>
<p>The objects of this class define how a task is partitioned for resampling (e.g., in <code><a href="resample.html">resample()</a></code> or <code><a href="benchmark.html">benchmark()</a></code>),
using a set of hyperparameters such as the number of folds in cross-validation.</p>
<p>Resampling objects can be instantiated on a <a href="Task.html">Task</a>, which applies the strategy on the task and manifests in a
fixed partition of <code>row_ids</code> of the <a href="Task.html">Task</a>.</p>
<p>Predefined resamplings are stored in the <a href="https://mlr3misc.mlr-org.com/reference/Dictionary.html" class="external-link">dictionary</a> <a href="mlr_resamplings.html">mlr_resamplings</a>,
e.g. <code><a href="mlr_resamplings_cv.html">cv</a></code> or <code><a href="mlr_resamplings_bootstrap.html">bootstrap</a></code>.</p>
    </div>


    <div class="section level2">
    <h2 id="stochasticity-amp-reproducibility">Stochasticity &amp; Reproducibility<a class="anchor" aria-label="anchor" href="#stochasticity-amp-reproducibility"></a></h2>


<p>The <code>Resampling</code> class only defines an abstract resampling strategy.
Concrete data splits are obtained by calling <code>$instantiate()</code> on a <code><a href="Task.html">Task</a></code>.
To ensure repdocubility of results, you need to call <code>set.seed</code> before doing so.
Note that <code><a href="benchmark_grid.html">benchmark_grid</a></code> internally does instantiate resamplings, so you need to set
the seed before calling it.</p>
    </div>
    <div class="section level2">
    <h2 id="stratification">Stratification<a class="anchor" aria-label="anchor" href="#stratification"></a></h2>


<p>All derived classes support stratified sampling.
The stratification variables are assumed to be discrete and must be stored in the <a href="Task.html">Task</a> with column role <code>"stratum"</code>.
In case of multiple stratification variables, each combination of the values of the stratification variables forms a strata.</p>
<p>First, the observations are divided into subpopulations based one or multiple stratification variables (assumed to be discrete), c.f. <code>task$strata</code>.</p>
<p>Second, the sampling is performed in each of the <code>k</code> subpopulations separately.
Each subgroup is divided into <code>iter</code> training sets and <code>iter</code> test sets by the derived <code>Resampling</code>.
These sets are merged based on their iteration number:
all training sets from all subpopulations with iteration 1 are combined, then all training sets with iteration 2, and so on.
Same is done for all test sets.
The merged sets can be accessed via <code>$train_set(i)</code> and <code>$test_set(i)</code>, respectively.
Note that this procedure can lead to set sizes that are slightly different from those
without stratification.</p>
    </div>
    <div class="section level2">
    <h2 id="grouping-blocking">Grouping / Blocking<a class="anchor" aria-label="anchor" href="#grouping-blocking"></a></h2>


<p>All derived classes support grouping of observations.
The grouping variable is assumed to be discrete and must be stored in the <a href="Task.html">Task</a> with column role <code>"group"</code>.</p>
<p>Observations in the same group are treated like a "block" of observations which must be kept together.
These observations either all go together into the training set or together into the test set.</p>
<p>The sampling is performed by the derived Resampling on the grouping variable.
Next, the grouping information is replaced with the respective row ids to generate training and test sets.
The sets can be accessed via <code>$train_set(i)</code> and <code>$test_set(i)</code>, respectively.</p>
    </div>
    <div class="section level2">
    <h2 id="inheriting">Inheriting<a class="anchor" aria-label="anchor" href="#inheriting"></a></h2>


<p>It is possible to overwrite both <code>private$.get_instance()</code> to have full control, or only <code>private$.sample()</code> when one wants to use the pre-defined mechanism for stratification and grouping.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index">
<ul><li><p>Chapter in the <a href="https://mlr3book.mlr-org.com/" class="external-link">mlr3book</a>:
<a href="https://mlr3book.mlr-org.com/chapters/chapter3/evaluation_and_benchmarking.html#sec-resampling" class="external-link">https://mlr3book.mlr-org.com/chapters/chapter3/evaluation_and_benchmarking.html#sec-resampling</a></p></li>
<li><p>Package <a href="https://CRAN.R-project.org/package=mlr3spatiotempcv" class="external-link"><span class="pkg">mlr3spatiotempcv</span></a> for spatio-temporal resamplings.</p></li>
<li><p><a href="https://mlr3misc.mlr-org.com/reference/Dictionary.html" class="external-link">Dictionary</a> of Resamplings: <a href="mlr_resamplings.html">mlr_resamplings</a></p></li>
<li><p><code>as.data.table(mlr_resamplings)</code> for a table of available Resamplings in the running session (depending on the loaded packages).</p></li>
<li><p><a href="https://CRAN.R-project.org/package=mlr3spatiotempcv" class="external-link"><span class="pkg">mlr3spatiotempcv</span></a> for additional Resamplings for spatio-temporal
tasks.</p></li>
</ul><p>Other Resampling:
<code><a href="mlr_resamplings.html">mlr_resamplings</a></code>,
<code><a href="mlr_resamplings_bootstrap.html">mlr_resamplings_bootstrap</a></code>,
<code><a href="mlr_resamplings_custom.html">mlr_resamplings_custom</a></code>,
<code><a href="mlr_resamplings_custom_cv.html">mlr_resamplings_custom_cv</a></code>,
<code><a href="mlr_resamplings_cv.html">mlr_resamplings_cv</a></code>,
<code><a href="mlr_resamplings_holdout.html">mlr_resamplings_holdout</a></code>,
<code><a href="mlr_resamplings_insample.html">mlr_resamplings_insample</a></code>,
<code><a href="mlr_resamplings_loo.html">mlr_resamplings_loo</a></code>,
<code><a href="mlr_resamplings_repeated_cv.html">mlr_resamplings_repeated_cv</a></code>,
<code><a href="mlr_resamplings_subsampling.html">mlr_resamplings_subsampling</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="public-fields">Public fields<a class="anchor" aria-label="anchor" href="#public-fields"></a></h2>
    <p></p><div class="r6-fields"><dl><dt><code>label</code></dt>
<dd><p>(<code>character(1)</code>)<br>
Label for this object.
Can be used in tables, plot and text output instead of the ID.</p></dd>


<dt><code>param_set</code></dt>
<dd><p>(<a href="https://paradox.mlr-org.com/reference/ParamSet.html" class="external-link">paradox::ParamSet</a>)<br>
Set of hyperparameters.</p></dd>


<dt><code>instance</code></dt>
<dd><p>(any)<br>
During <code>instantiate()</code>, the instance is stored in this slot in an arbitrary format.
Note that if a grouping variable is present in the <a href="Task.html">Task</a>, a Resampling may operate on the
group ids internally instead of the row ids (which may lead to confusion).</p>
<p>It is advised to not work directly with the <code>instance</code>, but instead only use the getters
<code>$train_set()</code> and <code>$test_set()</code>.</p></dd>


<dt><code>task_hash</code></dt>
<dd><p>(<code>character(1)</code>)<br>
The hash of the <a href="Task.html">Task</a> which was passed to <code>r$instantiate()</code>.</p></dd>


<dt><code>task_row_hash</code></dt>
<dd><p>(<code>character(1)</code>)<br>
The hash of the row ids of the <a href="Task.html">Task</a> which was passed to <code>r$instantiate()</code>.</p></dd>


<dt><code>task_nrow</code></dt>
<dd><p>(<code>integer(1)</code>)<br>
The number of observations of the <a href="Task.html">Task</a> which was passed to <code>r$instantiate()</code>.</p></dd>


<dt><code>duplicated_ids</code></dt>
<dd><p>(<code>logical(1)</code>)<br>
If <code>TRUE</code>, duplicated rows can occur within a single training set or within a single test set.
E.g., this is <code>TRUE</code> for Bootstrap, and <code>FALSE</code> for cross-validation.
Only used internally.</p></dd>


<dt><code>man</code></dt>
<dd><p>(<code>character(1)</code>)<br>
String in the format <code>[pkg]::[topic]</code> pointing to a manual page for this object.
Defaults to <code>NA</code>, but can be set by child classes.</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="active-bindings">Active bindings<a class="anchor" aria-label="anchor" href="#active-bindings"></a></h2>
    <p></p><div class="r6-active-bindings"><dl><dt><code>id</code></dt>
<dd><p>(<code>character(1)</code>)<br>
Identifier of the object.
Used in tables, plot and text output.</p></dd>


<dt><code>is_instantiated</code></dt>
<dd><p>(<code>logical(1)</code>)<br>
Is <code>TRUE</code> if the resampling has been instantiated.</p></dd>


<dt><code>hash</code></dt>
<dd><p>(<code>character(1)</code>)<br>
Hash (unique identifier) for this object.
If the object has not been instantiated yet, <code>NA_character_</code> is returned.
The hash is calculated based on the class name, the id, the parameter set, and the instance.</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>

<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-Resampling-new"><code>Resampling$new()</code></a></p></li>
<li><p><a href="#method-Resampling-format"><code>Resampling$format()</code></a></p></li>
<li><p><a href="#method-Resampling-print"><code>Resampling$print()</code></a></p></li>
<li><p><a href="#method-Resampling-help"><code>Resampling$help()</code></a></p></li>
<li><p><a href="#method-Resampling-instantiate"><code>Resampling$instantiate()</code></a></p></li>
<li><p><a href="#method-Resampling-train_set"><code>Resampling$train_set()</code></a></p></li>
<li><p><a href="#method-Resampling-test_set"><code>Resampling$test_set()</code></a></p></li>
<li><p><a href="#method-Resampling-clone"><code>Resampling$clone()</code></a></p></li>
</ul></div><p></p><hr><a id="method-Resampling-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Creates a new instance of this <a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6</a> class.</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/Resampling.html">Resampling</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span>  <span class="va">id</span>,</span>
<span>  param_set <span class="op">=</span> <span class="fu">ps</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  duplicated_ids <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  label <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>  man <span class="op">=</span> <span class="cn">NA_character_</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>id</code></dt>
<dd><p>(<code>character(1)</code>)<br>
Identifier for the new instance.</p></dd>


<dt><code>param_set</code></dt>
<dd><p>(<a href="https://paradox.mlr-org.com/reference/ParamSet.html" class="external-link">paradox::ParamSet</a>)<br>
Set of hyperparameters.</p></dd>


<dt><code>duplicated_ids</code></dt>
<dd><p>(<code>logical(1)</code>)<br>
Set to <code>TRUE</code> if this resampling strategy may have duplicated row ids in a single training set or test set.</p>
<p>Note that this object is typically constructed via a derived classes, e.g. <a href="mlr_resamplings_cv.html">ResamplingCV</a> or <a href="mlr_resamplings_holdout.html">ResamplingHoldout</a>.</p></dd>


<dt><code>label</code></dt>
<dd><p>(<code>character(1)</code>)<br>
Label for the new instance.</p></dd>


<dt><code>man</code></dt>
<dd><p>(<code>character(1)</code>)<br>
String in the format <code>[pkg]::[topic]</code> pointing to a manual page for this object.
The referenced help package can be opened via method <code>$help()</code>.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Resampling-format"></a><div class="section">
<h3 id="method-format-">Method <code><a href="https://rdrr.io/r/base/format.html" class="external-link">format()</a></code><a class="anchor" aria-label="anchor" href="#method-format-"></a></h3>
<p>Helper for print outputs.</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Resampling</span><span class="op">$</span><span class="fu">format</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>(ignored).</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Resampling-print"></a><div class="section">
<h3 id="method-print-">Method <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code><a class="anchor" aria-label="anchor" href="#method-print-"></a></h3>
<p>Printer.</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Resampling</span><span class="op">$</span><span class="fu">print</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>(ignored).</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Resampling-help"></a><div class="section">
<h3 id="method-help-">Method <code><a href="https://rdrr.io/r/utils/help.html" class="external-link">help()</a></code><a class="anchor" aria-label="anchor" href="#method-help-"></a></h3>
<p>Opens the corresponding help page referenced by field <code>$man</code>.</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Resampling</span><span class="op">$</span><span class="fu">help</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Resampling-instantiate"></a><div class="section">
<h3 id="method-instantiate-">Method <code>instantiate()</code><a class="anchor" aria-label="anchor" href="#method-instantiate-"></a></h3>
<p>Materializes fixed training and test splits for a given task and stores them in <code>r$instance</code>
in an arbitrary format.</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Resampling</span><span class="op">$</span><span class="fu">instantiate</span><span class="op">(</span><span class="va">task</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>task</code></dt>
<dd><p>(<a href="Task.html">Task</a>)<br>
Task used for instantiation.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>Returns the object itself, but modified <strong>by reference</strong>.
You need to explicitly <code>$clone()</code> the object beforehand if you want to keeps
the object in its previous state.</p>
</div>
<div class="section">
<h4 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="../reference/mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span>
<span><span class="va">resampling</span> <span class="op">=</span> <span class="fu"><a href="../reference/mlr_sugar.html">rsmp</a></span><span class="op">(</span><span class="st">"holdout"</span><span class="op">)</span></span>
<span><span class="va">resampling</span><span class="op">$</span><span class="fu">instantiate</span><span class="op">(</span><span class="va">task</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Resampling-train_set"></a><div class="section">
<h3 id="method-train-set-">Method <code>train_set()</code><a class="anchor" aria-label="anchor" href="#method-train-set-"></a></h3>
<p>Returns the row ids of the i-th training set.</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Resampling</span><span class="op">$</span><span class="fu">train_set</span><span class="op">(</span><span class="va">i</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>i</code></dt>
<dd><p>(<code>integer(1)</code>)<br>
Iteration.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p>(<code><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer()</a></code>) of row ids.</p>
</div>
<div class="section">
<h4 id="examples-1">Examples<a class="anchor" aria-label="anchor" href="#examples-1"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="../reference/mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span>
<span><span class="va">resampling</span> <span class="op">=</span> <span class="fu"><a href="../reference/mlr_sugar.html">rsmp</a></span><span class="op">(</span><span class="st">"holdout"</span><span class="op">)</span><span class="op">$</span><span class="fu">instantiate</span><span class="op">(</span><span class="va">task</span><span class="op">)</span></span>
<span><span class="va">resampling</span><span class="op">$</span><span class="fu">train_set</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Resampling-test_set"></a><div class="section">
<h3 id="method-test-set-">Method <code>test_set()</code><a class="anchor" aria-label="anchor" href="#method-test-set-"></a></h3>
<p>Returns the row ids of the i-th test set.</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Resampling</span><span class="op">$</span><span class="fu">test_set</span><span class="op">(</span><span class="va">i</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>i</code></dt>
<dd><p>(<code>integer(1)</code>)<br>
Iteration.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-2">Returns<a class="anchor" aria-label="anchor" href="#returns-2"></a></h4>
<p>(<code><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer()</a></code>) of row ids.</p>
</div>
<div class="section">
<h4 id="examples-2">Examples<a class="anchor" aria-label="anchor" href="#examples-2"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="../reference/mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span>
<span><span class="va">resampling</span> <span class="op">=</span> <span class="fu"><a href="../reference/mlr_sugar.html">rsmp</a></span><span class="op">(</span><span class="st">"holdout"</span><span class="op">)</span><span class="op">$</span><span class="fu">instantiate</span><span class="op">(</span><span class="va">task</span><span class="op">)</span></span>
<span><span class="va">resampling</span><span class="op">$</span><span class="fu">test_set</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Resampling-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Resampling</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-6">Arguments<a class="anchor" aria-label="anchor" href="#arguments-6"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">r</span> <span class="op">=</span> <span class="fu"><a href="mlr_sugar.html">rsmp</a></span><span class="op">(</span><span class="st">"subsampling"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Default parametrization</span></span></span>
<span class="r-in"><span><span class="va">r</span><span class="op">$</span><span class="va">param_set</span><span class="op">$</span><span class="va">values</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ratio</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.6666667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $repeats</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Do only 3 repeats on 10% of the data</span></span></span>
<span class="r-in"><span><span class="va">r</span><span class="op">$</span><span class="va">param_set</span><span class="op">$</span><span class="fu">set_values</span><span class="op">(</span>ratio <span class="op">=</span> <span class="fl">0.1</span>, repeats <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">r</span><span class="op">$</span><span class="va">param_set</span><span class="op">$</span><span class="va">values</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ratio</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $repeats</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Instantiate on penguins task</span></span></span>
<span class="r-in"><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">r</span><span class="op">$</span><span class="fu">instantiate</span><span class="op">(</span><span class="va">task</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Extract train/test sets</span></span></span>
<span class="r-in"><span><span class="va">train_set</span> <span class="op">=</span> <span class="va">r</span><span class="op">$</span><span class="fu">train_set</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">train_set</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 228 166 340  60  17 192 238  59 154  81 241  32 218 327 325 113 157 277  48</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [20] 334 186 215  11  87 150  92 273  34  97 291   4 246 118  41</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/sets.html" class="external-link">intersect</a></span><span class="op">(</span><span class="va">train_set</span>, <span class="va">r</span><span class="op">$</span><span class="fu">test_set</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> integer(0)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Another example: 10-fold CV</span></span></span>
<span class="r-in"><span><span class="va">r</span> <span class="op">=</span> <span class="fu"><a href="mlr_sugar.html">rsmp</a></span><span class="op">(</span><span class="st">"cv"</span><span class="op">)</span><span class="op">$</span><span class="fu">instantiate</span><span class="op">(</span><span class="va">task</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">r</span><span class="op">$</span><span class="fu">train_set</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1]   4   7   9  36  37  40  64  79  80  89  95 117 124 137 140 153 192 207</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [19] 209 210 232 235 243 246 260 266 268 280 306 309 317 325 335 339 340  22</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [37]  25  32  48  50  84  86  98 119 128 130 134 136 156 175 180 193 199 205</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [55] 217 224 241 247 256 277 283 287 288 293 297 304 305 334 343 344  11  18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [73]  27  35  41  54  66  73  97  99 105 123 127 132 139 158 168 173 176 194</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [91] 201 220 237 240 261 269 271 285 289 295 296 300 308 312 333   3  20  23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [109]  28  42  46  51  62  71  94 116 147 152 154 159 161 162 170 174 178 191</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [127] 206 212 214 216 244 251 267 272 276 294 314 316 319   2   8  14  24  31</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [145]  45  49  52  53  59  60  74  90  92 106 133 138 142 144 164 181 182 189</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [163] 200 223 228 238 242 245 275 310 311 327 337   6  30  55  69  81  93 107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [181] 112 118 131 143 151 171 179 195 202 204 215 219 221 225 226 227 234 249</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [199] 257 282 286 292 301 323 329 332 341  12  17  19  43  44  56  65  68  75</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [217]  78  82  83 109 122 135 146 148 157 163 197 233 236 239 250 263 284 299</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [235] 302 321 322 330 331 336 338   1  10  13  39  58  70  72  77  88  96 104</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [253] 129 141 149 165 166 169 183 184 187 196 229 230 231 252 254 255 262 278</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [271] 281 290 315 318 320  15  29  33  34  47  57  67  85  91 101 102 103 108</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [289] 110 121 126 167 172 177 186 190 198 208 213 218 248 253 258 273 291 298</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [307] 307 313 326</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Stratification</span></span></span>
<span class="r-in"><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"pima"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/proportions.html" class="external-link">prop.table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">task</span><span class="op">$</span><span class="fu">truth</span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="co"># moderately unbalanced</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       pos       neg </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.3489583 0.6510417 </span>
<span class="r-in"><span><span class="va">task</span><span class="op">$</span><span class="va">col_roles</span><span class="op">$</span><span class="va">stratum</span> <span class="op">=</span> <span class="va">task</span><span class="op">$</span><span class="va">target_names</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">r</span> <span class="op">=</span> <span class="fu"><a href="mlr_sugar.html">rsmp</a></span><span class="op">(</span><span class="st">"subsampling"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">r</span><span class="op">$</span><span class="fu">instantiate</span><span class="op">(</span><span class="va">task</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/proportions.html" class="external-link">prop.table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">task</span><span class="op">$</span><span class="fu">truth</span><span class="op">(</span><span class="va">r</span><span class="op">$</span><span class="fu">train_set</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="co"># roughly same proportion</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       pos       neg </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.3496094 0.6503906 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Resampling$instantiate`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">resampling</span> <span class="op">=</span> <span class="fu"><a href="mlr_sugar.html">rsmp</a></span><span class="op">(</span><span class="st">"holdout"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">resampling</span><span class="op">$</span><span class="fu">instantiate</span><span class="op">(</span><span class="va">task</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Resampling$train_set`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">resampling</span> <span class="op">=</span> <span class="fu"><a href="mlr_sugar.html">rsmp</a></span><span class="op">(</span><span class="st">"holdout"</span><span class="op">)</span><span class="op">$</span><span class="fu">instantiate</span><span class="op">(</span><span class="va">task</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">resampling</span><span class="op">$</span><span class="fu">train_set</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1]   2   5   6   7   8   9  10  11  12  13  14  16  17  18  19  20  21  23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [19]  24  25  26  27  30  33  34  35  37  38  39  40  41  42  43  45  46  47</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [37]  49  50  52  53  54  55  56  57  58  59  63  64  65  66  67  68  69  70</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [55]  71  75  76  78  79  80  82  83  84  85  86  87  88  90  91  92  93  94</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [73]  95  96  97  98  99 100 101 102 103 109 111 112 115 116 118 120 123 124</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [91] 126 128 129 130 131 132 136 138 140 141 143 144 145 146 147 148 150 152</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [109] 153 156 157 158 159 160 161 163 164 165 166 167 170 175 176 178 179 180</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [127] 182 183 184 185 187 188 189 191 192 193 195 196 197 198 200 201 202 203</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [145] 206 207 208 209 210 211 212 214 216 218 219 221 223 224 227 228 229 230</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [163] 232 233 237 240 241 244 245 246 247 248 252 255 256 257 260 261 262 264</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [181] 265 267 268 269 270 271 274 277 278 279 281 282 284 285 286 290 292 293</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [199] 294 295 296 299 301 302 305 308 309 311 313 314 316 318 319 320 321 325</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [217] 327 329 330 332 333 335 336 337 338 339 340 341 344</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Resampling$test_set`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="mlr_sugar.html">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">resampling</span> <span class="op">=</span> <span class="fu"><a href="mlr_sugar.html">rsmp</a></span><span class="op">(</span><span class="st">"holdout"</span><span class="op">)</span><span class="op">$</span><span class="fu">instantiate</span><span class="op">(</span><span class="va">task</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">resampling</span><span class="op">$</span><span class="fu">test_set</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1]   2   3   7   8  10  12  13  16  18  22  25  26  31  40  46  47  49  50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [19]  57  58  60  66  67  70  71  72  74  76  79  83  85  86  88  90  93  94</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [37]  95  99 104 106 109 110 111 112 116 121 122 133 146 149 151 155 157 158</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [55] 159 160 162 167 170 171 172 174 177 178 179 181 183 186 187 189 202 207</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [73] 210 213 214 217 218 221 224 225 226 231 237 246 251 252 255 258 259 263</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [91] 265 269 274 285 291 292 293 297 299 304 305 308 311 316 318 319 321 323</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [109] 329 333 334 337 339 340 344</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Michel Lang, Bernd Bischl, Jakob Richter, Patrick Schratz, Martin Binder, Florian Pfisterer, Raphael Sonabend, Marc Becker, Sebastian Fischer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

