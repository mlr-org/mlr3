<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Documentation of mlr3 test helpers — mlr_test_helpers • mlr3</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.10/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Documentation of mlr3 test helpers — mlr_test_helpers"><meta name="description" content='The mlr3 package contains various helper functions to test the validity of objects such as learners.
These functions are not contained in the mlr3 namespaces and are instead located in the inst/testthat
directory of the source package or the testthat directory of the installed package.
These files can be sourced with the following line of code:
lapply(list.files(system.file("testthat", package = "mlr3"), pattern = "^helper.*\\.[rR]", full.names = TRUE), source)

Other extension packages such as mlr3proba have similar files that can be sourced accordingly.
This manual page documents the most important helper functions that are relevant when users implement their own
custom learners.'><meta property="og:description" content='The mlr3 package contains various helper functions to test the validity of objects such as learners.
These functions are not contained in the mlr3 namespaces and are instead located in the inst/testthat
directory of the source package or the testthat directory of the installed package.
These files can be sourced with the following line of code:
lapply(list.files(system.file("testthat", package = "mlr3"), pattern = "^helper.*\\.[rR]", full.names = TRUE), source)

Other extension packages such as mlr3proba have similar files that can be sourced accordingly.
This manual page documents the most important helper functions that are relevant when users implement their own
custom learners.'><meta property="og:image" content="https://mlr3.mlr-org.com/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mlr3</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-file-alt"></span> Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mlr3book.mlr-org.com"><span class="fa fa-link"></span> mlr3book</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mlr-org/mlr3/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite/"><span class="fa fa-comments"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://stackoverflow.com/questions/tagged/mlr3"><span class="fa fab fa-stack-overflow"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mlr-org.com/"><span class="fa fa-rss"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Documentation of mlr3 test helpers</h1>
      <small class="dont-index">Source: <a href="https://github.com/mlr-org/mlr3/blob/v1.0.1/R/mlr_test_helpers.R" class="external-link"><code>R/mlr_test_helpers.R</code></a></small>
      <div class="d-none name"><code>mlr_test_helpers.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The mlr3 package contains various helper functions to test the validity of objects such as learners.
These functions are not contained in the mlr3 namespaces and are instead located in the <code>inst/testthat</code>
directory of the source package or the <code>testthat</code> directory of the installed package.</p>
<p>These files can be sourced with the following line of code:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">lapply</span>(<span class="fu">list.files</span>(<span class="fu">system.file</span>(<span class="st">"testthat"</span>, <span class="at">package =</span> <span class="st">"mlr3"</span>), <span class="at">pattern =</span> <span class="st">"^helper.*</span><span class="sc">\\</span><span class="st">.[rR]"</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>), source)</span></code></pre><p></p></div>
<p>Other extension packages such as <code>mlr3proba</code> have similar files that can be sourced accordingly.</p>
<p>This manual page documents the most important helper functions that are relevant when users implement their own
custom learners.</p>
    </div>


    <div class="section level2">
    <h2 id="run-autotest-">run_autotest()<a class="anchor" aria-label="anchor" href="#run-autotest-"></a></h2>


<p>This function runs a Learner's automatic test suite.</p>
<p>During the autotests, multiple tasks are generated depending on the properties of the learner.
The <code>run_autotest()</code> function then trains the learner on each task and predicts with all supported predict types.
(see argument <code>predict_types</code>).
To debug, simply run <code>result = run_autotest(learner)</code> and proceed with investigating
the task, learner and prediction of the returned <code>result</code>.</p>
<p>For example usages you can look at the autotests in various mlr3 source repositories such as mlr3learners.
More information can be found in the <code>inst/testthat/autotest.R</code> file.</p>
<p><strong>Parameters</strong>:</p><ul><li><p><code>learner</code> (<code><a href="Learner.html">Learner</a></code>)<br>
The learner to check.</p></li>
<li><p><code>N</code> (<code>integer(1)</code>)<br>
The number of rows of the generated tasks.</p></li>
<li><p><code>exclude</code> (<code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>)<br>
Each task on which the learner is trained has an id.
If for some reason, one or more such tests ought to be disabled, this argument takes in a regular expression
that disables all tasks whose id matches the regular expression.</p></li>
<li><p><code>predict_types</code> (<code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>)<br>
The predict types of the learner to check.
Defaults to all predict typpes of the learner.</p></li>
<li><p><code>check_replicable</code> (<code>logical(1)</code>)<br>
Whether to check that running the learner twice with the same seed should result in identical predictions.
Default is <code>TRUE</code>.</p></li>
<li><p><code>configure_learner</code> (<code>function(learner, task)</code>)<br>
Before running a <code>learner</code> on a <code>task</code>, this function allows to change its parameter values depending on the input task.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="run-paramtest-">run_paramtest()<a class="anchor" aria-label="anchor" href="#run-paramtest-"></a></h2>



<p><strong>Description</strong>:</p>
<p>Checks parameters of mlr3 Learners against parameters defined in the upstream functions of the respective learner.
The goal is to detect if parameters have been dropped or added in the upstream implementation.
Some learners do not have all of their parameters stored within the learner function that is called during training.
Sometimes learners come with a "control" function, e.g. <code>glmnet.control()</code> from package <a href="https://CRAN.R-project.org/package=glmnet" class="external-link"><span class="pkg">glmnet</span></a>.
Such learners need to be checked as well since they make up the full ParamSet of the respective learner.</p>
<p>To work nicely with the defined ParamSet, certain parameters need to be
excluded because these are only present in either the "control" object or the
actual top-level function call. Such exclusions should go into argument
<code>exclude</code> with a comment for the reason of the exclusion. See examples for
more information.</p>
<p>For example usages you can look at the parameter tests in various mlr3 source repositories such as <a href="https://CRAN.R-project.org/package=mlr3learners" class="external-link"><span class="pkg">mlr3learners</span></a>.</p>
<p><strong>Parameters</strong>:</p><ul><li><p><code>learner</code> (<code>Learner</code>)<br>
The learner whose parameter set is being checked.</p></li>
<li><p><code>fun</code> (<code>function()</code> or list of <code>functions()</code>s)<br>
The function(s) containing the parameters that must be implemented by the learner.</p></li>
<li><p><code>exclude</code> (<code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>)<br>
Argument names that specified through this argument are exempt from checking.
This can be used when parameters that are available in the <code>fun</code> function(s) are not implemented in the learner,
or when the learner implements additional parameters that are not available in the <code>fun</code> function(s).</p></li>
<li><p><code>tag</code> (<code>character(1)</code>)<br>
Only parameters that are tagged with this tag are being checked.
If <code>NULL</code> (default), all parameters are checked.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="expect-learner-">expect_learner()<a class="anchor" aria-label="anchor" href="#expect-learner-"></a></h2>



<p>Checks various properties that learners have to satisfy.
Used for testing learner implementations, especially if all methods and fields are implement as document.</p>
<p><strong>Parameters</strong></p><ul><li><p><code>lrn</code> :: (<code><a href="Learner.html">Learner</a></code>)<br>
The learner whose properties are being verified.</p></li>
<li><p><code>tsk</code> :: (<code><a href="Task.html">Task</a></code>)<br>
Optional argument (default is <code>NULL</code>).
If provided, some additional checks are being run that check the compatibility of the learner and task.</p></li>
<li><p><code>check_man</code> :: (<code>logical(1)</code>)<br>
Whether to check if the learner has a man page.</p></li>
</ul></div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Michel Lang, Bernd Bischl, Jakob Richter, Patrick Schratz, Martin Binder, Florian Pfisterer, Raphael Sonabend, Marc Becker, Sebastian Fischer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

